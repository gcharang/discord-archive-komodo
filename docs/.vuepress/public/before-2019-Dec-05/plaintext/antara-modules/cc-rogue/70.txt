==============================================================
Guild: Komodo
Channel: cc-rogue
Topic: use FSM branch AND then build as normal
 
./komodod -ac_name=ROGUE -ac_supply=1000000 -pubkey=<yourpubkey> -addnode=5.9.102.210  -ac_cclib=rogue -ac_perc=10000000 -ac_reward=100000000 -ac_cc=60001 -ac_script=2ea22c80203d1579313abe7d8ea85f48c65ea66fc512c878c0d0e6f6d54036669de940febf8103120c008203000401cc -daemon
Guide here: https://github.com/KomodoPlatform/komodo/wiki/Get-Started-with-Rogue-Game
Explorer: http://rogue.explorer.dexstats.info/
Player's Handbook: https://github.com/jl777/komodo/blob/jl777/src/cc/rogue/rogue.doc
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[26-Feb-19 07:43 PM] TonyL#3577
So, who want to play multiplayer game? ðŸ˜ƒ

[26-Feb-19 07:44 PM] ronyi#5719
Me. ðŸ˜„

[26-Feb-19 07:44 PM] TonyL#3577
Cool! Let's go on blank warriors to make it sportsmanlike ðŸ˜ƒ

[26-Feb-19 07:44 PM] TonyL#3577
Are you in @Cryptofist ?

[26-Feb-19 07:45 PM] TonyL#3577
```>> 7
Input game max. players (>1): 2
Input game buyin (>0.001): 1
New multiplayer game succesfully created. txid: 1b019aa5bbd592a42d338bbd75fea897ab6cd744589163357918b2108b8dc2e8```

[26-Feb-19 07:45 PM] TonyL#3577
Ok, created heads-up first @ronyi

[26-Feb-19 07:46 PM] TonyL#3577
As soon as it mined - should appear in `[8] Join (register) multiplayer game`

[26-Feb-19 07:52 PM] TonyL#3577
Are you registered?

[26-Feb-19 07:52 PM] TonyL#3577
https://gaming.youtube.com/watch?v=QJ9Lap5IzO4 testing stream lol

{Embed}
Tony Lysakov
https://gaming.youtube.com/watch?v=QJ9Lap5IzO4
ÐŸÑ€ÑÐ¼Ð°Ñ Ñ‚Ñ€Ð°Ð½ÑÐ»ÑÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Tony Ly...
https://i.ytimg.com/vi/QJ9Lap5IzO4/maxresdefault_live.jpg

[26-Feb-19 07:53 PM] ronyi#5719
http://rogue.explorer.dexstats.info/tx/29cfeebf47e870c19f8f1b354b6bca1901ba8fffebf5cfe8b31ec1ab72d7a17f

[26-Feb-19 07:54 PM] TonyL#3577
```
Game txid: 1b019aa5bbd592a42d338bbd75fea897ab6cd744589163357918b2108b8dc2e8
Game buyin: 1.0
Ready for start!
Game height: 34586
Start height: 34591
Alive players: 2
Registered players: 2
Max players: 2
```

[26-Feb-19 07:54 PM] TonyL#3577
So in two blocks we should be able to start

[26-Feb-19 07:57 PM] Cryptofist#7504
can i join still?

[26-Feb-19 07:57 PM] TonyL#3577
Ohh I can create new one for 3

[26-Feb-19 07:58 PM] Cryptofist#7504
from 244-3pm my time on weekdays i pick up my kiddo so i always disappear for abit. ðŸ˜‚

[26-Feb-19 07:59 PM] ronyi#5719
How to start the game?

[26-Feb-19 07:59 PM] TonyL#3577
I'm dead lol

[26-Feb-19 07:59 PM] TonyL#3577
So you won

[26-Feb-19 07:59 PM] TonyL#3577
To start game `[9] Check my multiplayer games status / start`

[26-Feb-19 08:01 PM] ronyi#5719
I connected now.

[26-Feb-19 08:01 PM] TonyL#3577
Hobgoblin killed me ez ðŸ˜ƒ

[26-Feb-19 08:01 PM] TonyL#3577
So now you may just play a little and quit - highlander should be executed and we start new one for 3

[26-Feb-19 08:02 PM] TonyL#3577
```{'name': 'rogue', 'method': 'bailout', 'myrogueaddr': 'RVuzXY65FyJiPPWSBc9efATh6nb4M9MceR', 'gametxid': '1b019aa5bbd592a42d338bbd75fea897ab6cd744589163357918b2108b8dc2e8', 'hex': '0400008085202f89028bf69adcac060018ffc537266bf4829cb163126ddc92be4d4e2e52e79d3bc5f700000000a74ca5a281a1a0819ca28194a067a5658021027d28d7d59ac499fac55f89b9e06933d66aaf74435c48326d83f8fbc6a7b14e858140fd027b3d52f133e02e6388c8e9ee80d44064542481f5d8189d55f477ef22e2574e2e005058999f34666c8b662d4943929c4b3d0408710d7e8f1c9a2751fddca4a129a5278020446b52761bffb00eaa7a055c9994987ce2120a551fb4dfd01ffae1ffbee6b56b8103020000af03800111a10001ffffffffe8c28d8b10b218793563915844d76cab97a8fe75bd8b332da492d5bba59a011b03000000a74ca5a281a1a0819ca28194a067a56580210223b2b9d35fb6383bbbc0dd6668825c91713bc21081b9ce33df3d7edbafa883058140e853e51a1c0db6a904741992a627abca21eb79ffe93ef63959e15ab2d5253ffa7436560c217b34ce41f123bd00fc7aaa6b2301307cb6320edefdcd04e867c670a129a5278020446b52761bffb00eaa7a055c9994987ce2120a551fb4dfd01ffae1ffbee6b56b8103020000af03800111a10001ffffffff03f05f040600000000302ea22c80203d1579313abe7d8ea85f48c65ea66fc512c878c0d0e6f6d54036669de940febf8103120c008203000401cc30750000000000002321027d28d7d59ac499fac55f89b9e06933d66aaf74435c48326d83f8fbc6a7b14e85ac0000000000000000586a4c551151e8c28d8b10b218793563915844d76cab97a8fe75bd8b332da492d5bba59a011b05524f47554505546f6e794c0000000021027d28d7d59ac499fac55f89b9e06933d66aaf74435c48326d83f8fbc6a7b14e850000000000368700000000000000000000000000', 'txid': 'e7642ed3ad6909a0ba7bf212b12e7a09fec958cc02ddf30e8fe8a6204d9a002d', 'result': 'success'}```

[26-Feb-19 08:02 PM] TonyL#3577
Yours should be highlander

[26-Feb-19 08:03 PM] TonyL#3577
```>> 7
Input game max. players (>1): 3
Input game buyin (>0.001): 1
New multiplayer game succesfully created. txid: becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc```

[26-Feb-19 08:03 PM] TonyL#3577
Created new one for 3

[26-Feb-19 08:03 PM] Cryptofist#7504
ok

[26-Feb-19 08:04 PM] TonyL#3577
First blockchain based rpg multiplayer game stream in history â˜‘

{Reactions}
Komodo ðŸ¤™ 

[26-Feb-19 08:05 PM] ronyi#5719
ok registering in progress. This is new for me.

[26-Feb-19 08:05 PM] TonyL#3577
```Succesfully registered.
21b209c8eac6e3124837937095e29b5e5392af57e660e44f0e4699b90d40827a
```

[26-Feb-19 08:06 PM] TonyL#3577
Should appear in [9] after registration transaction is mined

[26-Feb-19 08:07 PM] TonyL#3577
```Game txid: becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc
Game buyin: 1.0
Ready for start!
Game height: 34599
Start height: 34604
Alive players: 3
Registered players: 3
Max players: 3
````

[26-Feb-19 08:07 PM] TonyL#3577
Cool we are all 3 registered I wonder

[26-Feb-19 08:07 PM] TonyL#3577
On height 34604 press y and input becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc as txid

[26-Feb-19 08:08 PM] ronyi#5719
I'm dead ðŸ˜„

[26-Feb-19 08:08 PM] TonyL#3577
oh you're already started this one?

[26-Feb-19 08:08 PM] Cryptofist#7504
i started

[26-Feb-19 08:08 PM] Cryptofist#7504
next to a emu

[26-Feb-19 08:09 PM] TonyL#3577
I thought it should be available for start only on Start height: 34604 height

[26-Feb-19 08:09 PM] Cryptofist#7504
:RAAAAAAAAAAAGE:

[26-Feb-19 08:09 PM] TonyL#3577
Ok let me start too

[26-Feb-19 08:09 PM] ronyi#5719
yes

[26-Feb-19 08:10 PM] Cryptofist#7504
the game is so hard that the strategy of not playing is the best strat. Anyway we can kill off an inactive account from a multip;ayer game?

[26-Feb-19 08:11 PM] TonyL#3577
```Level: 2  Gold: 55     Hp: 16(16)  Str: 16(16)  Arm: 4   Exp: 2/14```

[26-Feb-19 08:11 PM] TonyL#3577
There is 60 minutes timeout

[26-Feb-19 08:11 PM] Cryptofist#7504
if we quit, do we still get the gold -> ROGUE

[26-Feb-19 08:11 PM] Cryptofist#7504
hmmm

[26-Feb-19 08:11 PM] Cryptofist#7504
60 is too long I think

[26-Feb-19 08:11 PM] TonyL#3577
if start with not blank warriors games should be more interesting

[26-Feb-19 08:11 PM] Cryptofist#7504
indeed

[26-Feb-19 08:12 PM] TonyL#3577
But for now we want to test not long ones anyway

[26-Feb-19 08:12 PM] Cryptofist#7504
im  playing did anyone else hop on this one?

[26-Feb-19 08:12 PM] TonyL#3577
I'm in game too

[26-Feb-19 08:12 PM] Cryptofist#7504
Have we tested quiting?

[26-Feb-19 08:13 PM] ronyi#5719
How this is work? I previous game i won, but i paid 1 rouge and i got 0,00019999 ðŸ˜„

[26-Feb-19 08:13 PM] Cryptofist#7504
uh oh

[26-Feb-19 08:14 PM] Cryptofist#7504
WTF have i fought 4 hobgoblins in two rooms. Is multiplayer set on kill?

[26-Feb-19 08:14 PM] TonyL#3577
@ronyi In the end - was highlander executed on your side or bailout?

[26-Feb-19 08:14 PM] ronyi#5719
Bailout (maybe)

[26-Feb-19 08:16 PM] TonyL#3577
```Level: 4  Gold: 252    Hp: 14(24)  Str: 14(16)  Arm: 4   Exp: 4/44```

[26-Feb-19 08:16 PM] TonyL#3577
Maybe something went wrong - let's track next time

[26-Feb-19 08:19 PM] Cryptofist#7504
Let me know if you guys die. im playing til i die or everyone else does.

[26-Feb-19 08:20 PM] TonyL#3577
```                      /          \
                     /    REST    \
                    /      IN      \
                   /     PEACE      \
                  /                  \
                  |                  |
                  |      757 Au      |
                  |   killed by a    |
                  |   rattlesnake    |
                  |       2019       |
                 *|     *  *  *      | *
         ________)/\\_//(\/(/\)/\//\/|_)_______


[Press return to continue]

```

[26-Feb-19 08:20 PM] Cryptofist#7504
@ronyi  still playing?

[26-Feb-19 08:21 PM] TonyL#3577
He died in very start as  I understand

[26-Feb-19 08:21 PM] TonyL#3577
```{'name': 'rogue', 'method': 'bailout', 'myrogueaddr': 'RVuzXY65FyJiPPWSBc9efATh6nb4M9MceR', 'gametxid': 'becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc', 'hex': '0400008085202f89027256c80fe581d69e49236dc092ecbe90158370cd7f82a001559096291e184efe00000000a74ca5a281a1a0819ca28194a067a5658021027d28d7d59ac499fac55f89b9e06933d66aaf74435c48326d83f8fbc6a7b14e8581404d8d5b178e4e4f541792cb4107d70f91d89089e0a412a5fbde4bd64c963d9ea873bdad9746acf0944ce867908580e04ec78f37a96d0f5b9b1daeb48c7e7447e3a129a5278020446b52761bffb00eaa7a055c9994987ce2120a551fb4dfd01ffae1ffbee6b56b8103020000af03800111a10001ffffffffdc79871e2306e70f4e4802ef5c615badef8ad35e916d7b5e427fdcd65401cbbe05000000a74ca5a281a1a0819ca28194a067a56580210223b2b9d35fb6383bbbc0dd6668825c91713bc21081b9ce33df3d7edbafa8830581402d29ab35f94ba05cbf9878f12e96674e330f6415cf4076d0d6b6166dce6edaae306749c5a77a45e262da94a198d5649b1fdefb64a564711db972b1c7fb16a6a1a129a5278020446b52761bffb00eaa7a055c9994987ce2120a551fb4dfd01ffae1ffbee6b56b8103020000af03800111a10001ffffffff03d011040600000000302ea22c80203d1579313abe7d8ea85f48c65ea66fc512c878c0d0e6f6d54036669de940febf8103120c008203000401cc30750000000000002321027d28d7d59ac499fac55f89b9e06933d66aaf74435c48326d83f8fbc6a7b14e85ac0000000000000000586a4c551151dc79871e2306e70f4e4802ef5c615badef8ad35e916d7b5e427fdcd65401cbbe05524f47554505546f6e794c0100000021027d28d7d59ac499fac55f89b9e06933d66aaf74435c48326d83f8fbc6a7b14e850000000000538700000000000000000000000000', 'txid': '60104f0f02dd984060b07a7bb535e9b818dd5efc1e835d82101b49fad6866b71', 'result': 'success'}
```

[26-Feb-19 08:21 PM] ronyi#5719
no 45au and killed by H

[26-Feb-19 08:21 PM] TonyL#3577
@Cryptofist when Quit please copy printout from TUI here (same as I posted above)

[26-Feb-19 08:22 PM] TonyL#3577
TUI will print it after Waiting for next block before bailout or highlander

[26-Feb-19 08:22 PM] Cryptofist#7504
i accidentally "keyboardInterupt" d it...

[26-Feb-19 08:22 PM] Cryptofist#7504
whoooops

[26-Feb-19 08:22 PM] TonyL#3577
You can manually finish now

[26-Feb-19 08:22 PM] Cryptofist#7504
ok walk me through it

[26-Feb-19 08:22 PM] Cryptofist#7504
im out of TUI

[26-Feb-19 08:23 PM] TonyL#3577
```./komodo-cli -ac_name=ROGUE cclib highlander 17 \"[%22becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc%22]\"```

[26-Feb-19 08:23 PM] TonyL#3577
Oh you alreeady finished maybe

[26-Feb-19 08:23 PM] TonyL#3577
Because rogue not allows keyboard interupt

[26-Feb-19 08:24 PM] TonyL#3577
```Waiting for next block before bailout or highlander
34621
34621
Waiting for next block before bailout or highlander
34621
34621
Waiting for next block before bailout or highlander
34621
34621
Waiting for next block before bailout or highlander
34621
34621
Waiting for next block before bailout or highlander```
TUI should print like this

[26-Feb-19 08:24 PM] TonyL#3577
Did you wait until tx is broadcasted?

[26-Feb-19 08:24 PM] Cryptofist#7504
sending a screencap in pm

[26-Feb-19 08:24 PM] Cryptofist#7504
one sec

[26-Feb-19 08:24 PM] Cryptofist#7504
just tapped my keyboard and BOOM

[26-Feb-19 08:28 PM] Cryptofist#7504
Needs an ignore keyboard til completion feature. ðŸ˜¬

[26-Feb-19 08:32 PM] TonyL#3577
```./komodo-cli -ac_name=ROGUE cclib highlander 17 "[%22becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc%22]"
(burp) found baton a3297aa7de3a118b441254d8feccaea13f2936057359f8c2a5b7085713b8c242 numkeys.1733 seed.4293424064513981908 playerdata.1072
gold.0 hp.34 strength.15/16 level.5 exp.106 dungeon.1 data[1176]

extracted $$$gold.0 hp.34 strength.15/16 level.5 exp.106 dl.1 n.1 amulet.0
{
  "name": "rogue",
  "method": "highlander",
  "myrogueaddr": "RHzo1JhB1D2P2RR8iAFpGEGTtxf5nFfwfX",
  "gametxid": "becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc",
  "status": "error",
  "error": "highlander must be a winner or last one standing"
}```

[26-Feb-19 08:32 PM] TonyL#3577
```  "alive": 1,
  "numplayers": 3,
  "maxplayers": 3,
  "buyin": 1.00000000,
  "seed": 4293424064513981908,
  "players": [
    {
      "slot": 0,
      "status": "alive",
      "baton": "a3297aa7de3a118b441254d8feccaea13f2936057359f8c2a5b7085713b8c242",
      "tokenid": "0000000000000000000000000000000000000000000000000000000000000000",
      "batonaddr": "RHzo1JhB1D2P2RR8iAFpGEGTtxf5nFfwfX",````

[26-Feb-19 08:32 PM] TonyL#3577
But he is last standing

[26-Feb-19 08:33 PM] TonyL#3577
And data of one of the players seems corrupted:
```    {
      "slot": 1,
      "status": "finished",
      "baton": "60104f0f02dd984060b07a7bb535e9b818dd5efc1e835d82101b49fad6866b71",
      "tokenid": "0000000000000000000000000000000000000000000000000000000000000000",
      "batonaddr": "RVuzXY65FyJiPPWSBc9efATh6nb4M9MceR",
      "ismine": true,
      "batonvout": 0,
      "batonvalue": 1.00930000,
      "batonht": 34624
    },
    {
      "slot": 2
    }```

[26-Feb-19 08:33 PM] Cryptofist#7504
Anything else I should do? I wanted to see if he shows up in my warriors

[26-Feb-19 08:33 PM] TonyL#3577
So I wonder some bug is here

[26-Feb-19 08:33 PM] TonyL#3577
Oh he not returned - he is still alive in this game

[26-Feb-19 08:34 PM] TonyL#3577
@jl777c last man standing can't finish game for 3 players by some reason 
```"error": "highlander must be a winner or last one standing"```

[26-Feb-19 08:35 PM] TonyL#3577
```   "batonaddr": "RHzo1JhB1D2P2RR8iAFpGEGTtxf5nFfwfX"``` match batonaddr of last standing wariror

[26-Feb-19 08:35 PM] Cryptofist#7504
Ill be on discord, but away from my machines, I can hop back on upon request

[27-Feb-19 06:58 AM] jl777c#5810
ok, i will investigate game becb0154d6dc7f425e7b6d915ed38aefad5b615cef02484e0fe706231e8779dc

[27-Feb-19 06:58 AM] jl777c#5810
i think the recent bug fixes changed the detection of last man standing

[27-Feb-19 08:14 AM] jl777c#5810
looking at the gametxid details, i see all three of the 0.01 vouts are spent, that means registered tx happened and 2 of the three 0.0001 vouts are spent, so indeed 2 of the 3 players are finished

[27-Feb-19 08:18 AM] jl777c#5810
to help understand the newgame tx has a special set of vouts:
vout0 0.0001 for the highlander -> this allows resolution of a race in the unlikely event two players have amulet. (yes this is the level of detail that is needed to get things 100% working)
vout1... voutN -> these are 0.01 vouts to fund the keystrokes tx and registration spends it. it implements the max players and if a race condition, the one that gets their registration tx confirmed is the one that registers.
voutN+1 to vout2*N -> these are spent when the game is finished so at a glace we can tell the game state and it ties in game completion for a player to the cashout and creating playerdata, thus preventing it from being done multiple times.

@blackjok3r some useful info for you in the above about vout usage

[27-Feb-19 08:19 AM] jl777c#5810
anyway, will investigate why the gameinfo isnt seeing that gametxid properly

[27-Feb-19 11:02 AM] Cryptofist#7504
Just in case this info is helpful.
I confirmed with everyone that they had died and then quit out of the game.

[27-Feb-19 11:04 AM] jl777c#5810
all three? the third seems to be pending. in anycase dont do anything with that game till I fix the bug. some other distractions delaying me

