<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - cc-general</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #36393e;
    color: #dcddde;
}

a {
    color: #0096cf;
}

.spoiler {
    background-color: rgba(255, 255, 255, 0.1);
}

.quote {
    border-color: #4f545c;
}

.pre {
    background-color: #2f3136 !important;
}

.pre--multiline {
    border-color: #282b30 !important;
    color: #839496 !important;
}

.mention {
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #ffffff;
}

.info__channel-name {
    color: #ffffff;
}

.info__channel-topic {
    color: #ffffff;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: rgba(255, 255, 255, 0.1);
}

.chatlog__author-name {
    color: #ffffff;
}

.chatlog__timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__embed-content-container {
    background-color: rgba(46, 48, 54, 0.3);
    border-color: rgba(46, 48, 54, 0.6);
}

.chatlog__embed-author-name {
    color: #ffffff;
}

.chatlog__embed-author-name-link {
    color: #ffffff;
}

.chatlog__embed-title {
    color: #ffffff;
}

.chatlog__embed-description {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-field-name {
    color: #ffffff;
}

.chatlog__embed-field-value {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-footer {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__reaction {
    background-color: rgba(255, 255, 255, 0.05);
}

.chatlog__reaction-count {
    color: rgba(255, 255, 255, 0.3);
}
    </style>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element !== null && element !== undefined) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">cc-general</div>

            <div class="info__channel-topic">Dev Docs: https://developers.komodoplatform.com | Test plan: https://docs.google.com/spreadsheets/d/1l0dWEPcrv9zE11_TD-XrX_HIYV0VLpadCJN6hvaZERc/edit#gid=211514340
https://medium.com/@jameslee777/how-to-implement-finite-state-machines-into-a-cc-8dfeadccbcad
https://github.com/dimxy/komodo/wiki/Designing-RPC-for-FSM-CC</div>

        <div class="info__channel-message-count">100 messages</div>

            <div class="info__channel-date-range">
                    Before 05-Dec-19 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 03:34 PM</span>

                    <div class="chatlog__message " data-message-id="520261821005824010" id="message-520261821005824010">
                        <div class="chatlog__content">
                            <span class="markdown">if so, then sendrawtransaction is modifying the hex?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520261857953447936" id="message-520261857953447936">
                        <div class="chatlog__content">
                            <span class="markdown">so I hope the hex you are broadcasting is changed</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:35 PM</span>

                    <div class="chatlog__message " data-message-id="520261901993639946" id="message-520261901993639946">
                        <div class="chatlog__content">
                            <span class="markdown">Me too</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520261931035000833" id="message-520261931035000833">
                        <div class="chatlog__content">
                            <span class="markdown">Maybe EnocdeHex has some problem</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 03:35 PM</span>

                    <div class="chatlog__message " data-message-id="520262056574844929" id="message-520262056574844929">
                        <div class="chatlog__content">
                            <span class="markdown">and somehow the mtx from FinalizeCCtx to where it generates the JSON is where things go bad. at least that is all inside the oracles.cpp code</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520262076514697228" id="message-520262076514697228">
                        <div class="chatlog__content">
                            <span class="markdown">crazy bug!</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:37 PM</span>

                    <div class="chatlog__message " data-message-id="520262402101477376" id="message-520262402101477376">
                        <div class="chatlog__content">
                            <span class="markdown">Also this could be wrong PrecomputedTransactionData txdata(tx);</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520262461782491136" id="message-520262461782491136">
                        <div class="chatlog__content">
                            <span class="markdown">But I haven&#39;t yet got to it to see how it is getting data from tx</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 03:37 PM</span>

                    <div class="chatlog__message " data-message-id="520262627285401603" id="message-520262627285401603">
                        <div class="chatlog__content">
                            <span class="markdown">well at least it feels like you have caught the bug in action and it happens all the time, so you will be able to solve it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:38 PM</span>

                    <div class="chatlog__message " data-message-id="520262680137826309" id="message-520262680137826309">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="ðŸ‘" title="ðŸ‘" src="https://twemoji.maxcdn.com/2/72x72/1f44d.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:47 PM</span>

                    <div class="chatlog__message " data-message-id="520264995225862164" id="message-520264995225862164">
                        <div class="chatlog__content">
                            <span class="markdown">It must be something with memory managment wrong as after calling SignatureHash in CCTx it gets modified then:
<div class="pre pre--multiline language-cpp">printf(&quot;txdata: %s %s %s %s\n&quot;,txdata.hashOutputs.GetHex().data(),txdata.hashPrevouts.GetHex().data(),txdata.hashSequence.GetHex().data(),txdata.hashJoinSplits.GetHex().data());                
uint256 sighash = SignatureHash(CCPubKey(cond), mtx, i, SIGHASH_ALL, utxovalues[i],consensusBranchId, &amp;txdata);
{
         PrecomputedTransactionData txdata1(mtx);
         printf(&quot;txdata2: %s %s %s %s\n&quot;,txdata1.hashOutputs.GetHex().data(),txdata1.hashPrevouts.GetHex().data(),txdata1.hashSequence.GetHex().data(),txdata1.hashJoinSplits.GetHex().data());
}    </div>           
<div class="pre pre--multiline nohighlight">txdata: 93a6e371082be9f172b5803f44ec6ae08d5a7d4dbddd1732b6b46667e83e4a6c 47cce7339ce18a01f0a92b5581c2e8fb83c4d3751af525a760802286952cd210 5c4cf0d63b1e79c0cb592656fdc1873d22c6f594f34924a4c7fa32fdb8b15d89 950ffd3ef48936edb04059e67bf7c45aca8450e020243754e9c80e7965b1f33b
txdata2: 93a6e371082be9f172b5803f44ec6ae08d5a7d4dbddd1732b6b46667e83e4a6c 1751fa8a98662f7e09f8dee3d8bc748bfdbf95687a810ad5f4771240529d7650 5c4cf0d63b1e79c0cb592656fdc1873d22c6f594f34924a4c7fa32fdb8b15d89 950ffd3ef48936edb04059e67bf7c45aca8450e020243754e9c80e7965b1f33b</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520265856169541670" id="message-520265856169541670">
                        <div class="chatlog__content">
                            <span class="markdown">Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
It is bug made by me!!!!! <img class="emoji " alt="ðŸ˜©" title="ðŸ˜©" src="https://twemoji.maxcdn.com/2/72x72/1f629.png" /> <img class="emoji " alt="ðŸ˜©" title="ðŸ˜©" src="https://twemoji.maxcdn.com/2/72x72/1f629.png" /> <img class="emoji " alt="ðŸ˜©" title="ðŸ˜©" src="https://twemoji.maxcdn.com/2/72x72/1f629.png" /> 
Remember those moving of multiple normal vins to the end after CC vins. So take a look at the code:
<div class="pre pre--multiline language-cpp">PrecomputedTransactionData txdata(mtx);
    n = mtx.vin.size(); 
    //Reorder vins so that for multiple normal vins all other except vin0 goes to the end
    //This is a must to avoid hardfork change of validation in every CC, because there could be maximum one normal vin at the begining with current validation.   
    if (normalvins&gt;1)
    {        
        for(i=1;i&lt;normalvins;i++)
        {   
            mtx.vin.push_back(mtx.vin[1]);
            mtx.vin.erase(mtx.vin.begin() + 1);            
        }
    }      </div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520265936696115217" id="message-520265936696115217">
                        <div class="chatlog__content">
                            <span class="markdown">PrecomputedTransactionData must be after</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520266038487547904" id="message-520266038487547904">
                        <div class="chatlog__content">
                            <span class="markdown">And that is why it sometimes work and sometimes not, until it happens to be that it has mor normal vins at the beggining</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 03:52 PM</span>

                    <div class="chatlog__message " data-message-id="520266199498620928" id="message-520266199498620928">
                        <div class="chatlog__content">
                            <span class="markdown">I wont tell anybody if you dont</span>

                        </div>



                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="ðŸ˜‚" title="ðŸ˜‚" src="https://twemoji.maxcdn.com/2/72x72/1f602.png" />
                                    <span class="chatlog__reaction-count">4</span>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:52 PM</span>

                    <div class="chatlog__message " data-message-id="520266322169298945" id="message-520266322169298945">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="ðŸ˜†" title="ðŸ˜†" src="https://twemoji.maxcdn.com/2/72x72/1f606.png" /> <img class="emoji emoji--large" alt="ðŸ¤¦" title="ðŸ¤¦" src="https://twemoji.maxcdn.com/2/72x72/1f926.png" /> <img class="emoji emoji--large" alt="yassinheartbroken" title="yassinheartbroken" src="https://cdn.discordapp.com/emojis/466359548832383006.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 03:53 PM</span>

                    <div class="chatlog__message " data-message-id="520266615351279629" id="message-520266615351279629">
                        <div class="chatlog__content">
                            <span class="markdown">pushed fix</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:54 PM</span>

                    <div class="chatlog__message " data-message-id="520266707726630913" id="message-520266707726630913">
                        <div class="chatlog__content">
                            <span class="markdown">Wait, I&#39;m checking it still makes some problems. Now vin2 seems to fail</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 03:55 PM</span>

                    <div class="chatlog__message " data-message-id="520267086270824448" id="message-520267086270824448">
                        <div class="chatlog__content">
                            <span class="markdown">maybe create a new tmpmtx</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520267147050745868" id="message-520267147050745868">
                        <div class="chatlog__content">
                            <span class="markdown">copy mtx: tmpmtx = mtx; tmpmtx.vin.clear()</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520267188788002817" id="message-520267188788002817">
                        <div class="chatlog__content">
                            <span class="markdown">and then set the vins from mtx to tmpmtx</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520267218274222090" id="message-520267218274222090">
                        <div class="chatlog__content">
                            <span class="markdown">at the end mtx = tmpmtx</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520267277577224214" id="message-520267277577224214">
                        <div class="chatlog__content">
                            <span class="markdown">doing vin[] fiddling in place seems confusing and error prone</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 03:56 PM</span>

                    <div class="chatlog__message " data-message-id="520267307851710494" id="message-520267307851710494">
                        <div class="chatlog__content">
                            <span class="markdown">Let me check this better</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 04:17 PM</span>

                    <div class="chatlog__message " data-message-id="520272586777690132" id="message-520272586777690132">
                        <div class="chatlog__content">
                            <span class="markdown">Ok, figured out the problem</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 04:44 PM</span>

                    <div class="chatlog__message " data-message-id="520279272963702784" id="message-520279272963702784">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m having strange problem when issuing RPC. Seems like daemon or RPC is stuck.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520279644583231529" id="message-520279644583231529">
                        <div class="chatlog__content">
                            <span class="markdown">Don&#39;t know if it is because of fix, or it happens anyway.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">06-Dec-18 04:48 PM</span>

                    <div class="chatlog__message " data-message-id="520280384248872970" id="message-520280384248872970">
                        <div class="chatlog__content">
                            <span class="markdown">gdb backtrace might be useful if this stuck is possible to reproduce</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 05:09 PM</span>

                    <div class="chatlog__message " data-message-id="520285605561630740" id="message-520285605561630740">
                        <div class="chatlog__content">
                            <span class="markdown">I think fix is ok now...
<a href="https://github.com/jl777/komodo/pull/1039">https://github.com/jl777/komodo/pull/1039</a></span>

                        </div>


                        <div class="chatlog__embed">
                            <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                            <div class="chatlog__embed-content-container">
                                <div class="chatlog__embed-content">
                                    <div class="chatlog__embed-text">

                                            <div class="chatlog__embed-title">
                                                    <a class="chatlog__embed-title-link" href="https://github.com/jl777/komodo/pull/1039"><span class="markdown">Fix reorder of vins in FinalizeCCTx by Mixa84 &#183; Pull Request #103...</span></a>
                                            </div>


                                    </div>

                                        <div class="chatlog__embed-thumbnail-container">
                                            <a class="chatlog__embed-thumbnail-link" href="https://avatars3.githubusercontent.com/u/39563265?s=400&v=4">
                                                <img class="chatlog__embed-thumbnail" src="https://avatars3.githubusercontent.com/u/39563265?s=400&v=4" />
                                            </a>
                                        </div>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div class="chatlog__message " data-message-id="520285717205745665" id="message-520285717205745665">
                        <div class="chatlog__content">
                            <span class="markdown">So this just the fix for cc_verify issue.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520285783593320498" id="message-520285783593320498">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m not sure now if the illegal datafee issue still stands?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520285871426109440" id="message-520285871426109440">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="TonyL#3577">@TonyL</span> Do we know how to reproduce it exactly?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520286210346844160" id="message-520286210346844160">
                        <div class="chatlog__content">
                            <span class="markdown">Also, it is very strange how I could only eproduce cc_verify error on sapling chain <img class="emoji " alt="ðŸ¤”" title="ðŸ¤”" src="https://twemoji.maxcdn.com/2/72x72/1f914.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">06-Dec-18 05:18 PM</span>

                    <div class="chatlog__message " data-message-id="520288048827596804" id="message-520288048827596804">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="Mihailo#5902">@Mihailo</span>  I&#39;ll re-test oracles functionality tomorrow and check if this illegal datafee issue is actual (in general reproducing  flow was like a: create oracle S datatype on sapling activated chain, 2 register 10000 sat, 2 subscribe 1 coin and on any data publishing attempt get this datafee error - and it was actual only on PirateNetwork/FSM repo while on jl777/FSM worked fine) + stress/spam test is needed I think</span>

                                <span class="chatlog__edited-timestamp" title="06-Dec-18 05:23 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 07:40 PM</span>

                    <div class="chatlog__message " data-message-id="520323641834078249" id="message-520323641834078249">
                        <div class="chatlog__content">
                            <span class="markdown">merged. it seems possible the datafee issue could be related, but only way to find out for sure is to test it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 07:47 PM</span>

                    <div class="chatlog__message " data-message-id="520325474572828682" id="message-520325474572828682">
                        <div class="chatlog__content">
                            <span class="markdown">Yes. Maybe datafee issue couod be something because of two registers and finding the baton, but it could also be fixed with this.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:05 AM</span>

                    <div class="chatlog__message " data-message-id="520556445054533652" id="message-520556445054533652">
                        <div class="chatlog__content">
                            <span class="markdown">On latest FSM possible to create same two publishers:
<div class="pre pre--multiline nohighlight">komodo-cli -ac_name=SPLTEST oraclesinfo 8636a373ebe01af956ed320742e29d0060c47f33c6238801cca80004d220068d
{
  &quot;result&quot;: &quot;success&quot;,
  &quot;txid&quot;: &quot;8636a373ebe01af956ed320742e29d0060c47f33c6238801cca80004d220068d&quot;,
  &quot;name&quot;: &quot;Testing&quot;,
  &quot;description&quot;: &quot;Testing&quot;,
  &quot;format&quot;: &quot;S&quot;,
  &quot;marker&quot;: &quot;RX1WWF8B5mN1Qz2MjDLvwuefdiVrYRBbyS&quot;,
  &quot;registered&quot;: [
    {
      &quot;publisher&quot;: &quot;02a3cf299910078222c5f6c3a4f45261c2c900af54dd090e955865c41fd7060047&quot;,
      &quot;baton&quot;: &quot;RRRZENDykruSdVSJno8WgZyvpRbLh9ixxb&quot;,
      &quot;batontxid&quot;: &quot;0e64a60bfb64df60b3af1edf44851f6187205484e1025e5baf30900dafdca69f&quot;,
      &quot;lifetime&quot;: &quot;108.00000000&quot;,
      &quot;funds&quot;: &quot;108.00000000&quot;,
      &quot;datafee&quot;: &quot;0.00010000&quot;
    },
    {
      &quot;publisher&quot;: &quot;02a3cf299910078222c5f6c3a4f45261c2c900af54dd090e955865c41fd7060047&quot;,
      &quot;baton&quot;: &quot;RRRZENDykruSdVSJno8WgZyvpRbLh9ixxb&quot;,
      &quot;batontxid&quot;: &quot;0e64a60bfb64df60b3af1edf44851f6187205484e1025e5baf30900dafdca69f&quot;,
      &quot;lifetime&quot;: &quot;108.00000000&quot;,
      &quot;funds&quot;: &quot;108.00000000&quot;,
      &quot;datafee&quot;: &quot;0.00010000&quot;
    }
  ]
}</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520556516751966208" id="message-520556516751966208">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="Mihailo#5902">@Mihailo</span> I&#39;ve started to mass data publishing and komodod hanged on my side</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520556586591191044" id="message-520556586591191044">
                        <div class="chatlog__content">
                            <span class="markdown">Maybe it&#39;s same situation as you had yesterday</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520557119007883275" id="message-520557119007883275">
                        <div class="chatlog__content">
                            <span class="markdown"></span>

                        </div>

                        <div class="chatlog__attachment">
                            <a href="https://cdn.discordapp.com/attachments/466507187842187264/520557118571413504/unknown.png">
                                
                                    <img class="chatlog__attachment-thumbnail" src="https://cdn.discordapp.com/attachments/466507187842187264/520557118571413504/unknown.png" />
                            </a>
                        </div>


                    </div>
                    <div class="chatlog__message " data-message-id="520557379822288897" id="message-520557379822288897">
                        <div class="chatlog__content">
                            <span class="markdown">Hmm it should be different process (on screenshot), sry</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:14 AM</span>

                    <div class="chatlog__message " data-message-id="520558699505516557" id="message-520558699505516557">
                        <div class="chatlog__content">
                            <span class="markdown">Hmmm, that hanging is strange. Not sure it has to do with fix as I think I had strange behaviour before the fix.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520559468984139776" id="message-520559468984139776">
                        <div class="chatlog__content">
                            <span class="markdown">I did not try datafee issue on Pirate repo as they are not on latest FSM but could check it over there also with the fix.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:18 AM</span>

                    <div class="chatlog__message " data-message-id="520559662140227584" id="message-520559662140227584">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m testing everything on jl777/FSM at the moment</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:19 AM</span>

                    <div class="chatlog__message " data-message-id="520560007578779654" id="message-520560007578779654">
                        <div class="chatlog__content">
                            <span class="markdown">Good</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:39 AM</span>

                    <div class="chatlog__message " data-message-id="520564908774129675" id="message-520564908774129675">
                        <div class="chatlog__content">
                            <span class="markdown">Hmm I&#39;m broadcast 1 oraclesdata and komodod hangs with 100% loading on CPU</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520564917691088896" id="message-520564917691088896">
                        <div class="chatlog__content">
                            <span class="markdown"><div class="pre pre--multiline nohighlight">(gdb) backtrace
#0  0x00007ffff7740c60 in nanosleep () from /lib/x86_64-linux-gnu/libpthread.so.0
#1  0x0000555555bf4e28 in boost::this_thread::hidden::sleep_for(timespec const&amp;) ()
#2  0x000055555597d6a9 in boost::this_thread::sleep_for (ns=&lt;synthetic pointer&gt;...)
    at /root/latest_FSM/komodo/depends/x86_64-unknown-linux-gnu/share/../include/boost/thread/pthread/thread_data.hpp:258
#3  boost::this_thread::sleep_for&lt;long, boost::ratio&lt;1l, 1000l&gt; &gt; (d=...)
    at /root/latest_FSM/komodo/depends/x86_64-unknown-linux-gnu/share/../include/boost/thread/v2/thread.hpp:124
#4  MilliSleep (n=20000) at utiltime.cpp:46
#5  0x00005555555e48f0 in WaitForShutdown (threadGroup=0x7fffffffe0e0) at bitcoind.cpp:67
#6  0x00005555555e5b1e in AppInit (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at bitcoind.cpp:225
#7  0x00005555555e632d in main (argc=10, argv=0x7fffffffe388) at bitcoind.cpp:239</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520564944014409737" id="message-520564944014409737">
                        <div class="chatlog__content">
                            <span class="markdown">Not sure if this backtrace is useful</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:39 AM</span>

                    <div class="chatlog__message " data-message-id="520565059655827456" id="message-520565059655827456">
                        <div class="chatlog__content">
                            <span class="markdown">Hmmm, this is I suppose when you shutdown the daemon so it waits for all threads to finish so it can exit.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">07-Dec-18 11:40 AM</span>

                    <div class="chatlog__message " data-message-id="520565375654428682" id="message-520565375654428682">
                        <div class="chatlog__content">
                            <span class="markdown">waitforshutdown is the loop the main thread ends up it, waiting for shutdown</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520565497704742936" id="message-520565497704742936">
                        <div class="chatlog__content">
                            <span class="markdown">100% CPU indicates maybe some issue with locking/unlocking?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:41 AM</span>

                    <div class="chatlog__message " data-message-id="520565552628891649" id="message-520565552628891649">
                        <div class="chatlog__content">
                            <span class="markdown">I now that when I had hanging happen when I issue another RPC it is stuck. Could be that some RPC thread is stuck?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">07-Dec-18 11:41 AM</span>

                    <div class="chatlog__message " data-message-id="520565582064648192" id="message-520565582064648192">
                        <div class="chatlog__content">
                            <span class="markdown">or could just be an infinite loop</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520565619406667776" id="message-520565619406667776">
                        <div class="chatlog__content">
                            <span class="markdown">rpc calls are serialized</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520565682128289802" id="message-520565682128289802">
                        <div class="chatlog__content">
                            <span class="markdown">if one doesnt finish, the next is just waiting forever</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:42 AM</span>

                    <div class="chatlog__message " data-message-id="520565865628827668" id="message-520565865628827668">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="Mihailo#5902">@Mihailo</span> I can call now RPC without args let&#39;s say:
<div class="pre pre--multiline nohighlight">/komodo-cli -ac_name=SPLTEST oraclesdata
error code: -1
error message:
oraclesdata oracletxid hexstr</div>
But call with args just hangs <div class="pre pre--multiline nohighlight">./komodo-cli -ac_name=SPLTEST oraclesdata 8636a373ebe01af956ed320742e29d0060c47f33c6238801cca80004d220068d 1</div></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">07-Dec-18 11:43 AM</span>

                    <div class="chatlog__message " data-message-id="520565977570738193" id="message-520565977570738193">
                        <div class="chatlog__content">
                            <span class="markdown">oh, hexstr of &quot;1&quot; ?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520566027449270292" id="message-520566027449270292">
                        <div class="chatlog__content">
                            <span class="markdown">what about hexstr of 01</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520566078019993610" id="message-520566078019993610">
                        <div class="chatlog__content">
                            <span class="markdown">might be a bug handling string len 1</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520566105937543184" id="message-520566105937543184">
                        <div class="chatlog__content">
                            <span class="markdown">hex is minimum 2 bytes</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:44 AM</span>

                    <div class="chatlog__message " data-message-id="520566162178834432" id="message-520566162178834432">
                        <div class="chatlog__content">
                            <span class="markdown"><a href="https://paste.ubuntu.com/p/B8nm72vt6d/">https://paste.ubuntu.com/p/B8nm72vt6d/</a></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:44 AM</span>

                    <div class="chatlog__message " data-message-id="520566218269392896" id="message-520566218269392896">
                        <div class="chatlog__content">
                            <span class="markdown">I don&#39;t think that&#39;s the problem as I was calling oraclesdata correctly and still got hangs</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:44 AM</span>

                    <div class="chatlog__message " data-message-id="520566273155923979" id="message-520566273155923979">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m hanging everything with this script</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520566370166112276" id="message-520566370166112276">
                        <div class="chatlog__content">
                            <span class="markdown">Broadcast once</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">07-Dec-18 11:44 AM</span>

                    <div class="chatlog__message " data-message-id="520566384313368577" id="message-520566384313368577">
                        <div class="chatlog__content">
                            <span class="markdown">problem with the fix for the CC validate error?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:45 AM</span>

                    <div class="chatlog__message " data-message-id="520566402562916353" id="message-520566402562916353">
                        <div class="chatlog__content">
                            <span class="markdown">Let see if it is just oracles related.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:45 AM</span>

                    <div class="chatlog__message " data-message-id="520566429678829569" id="message-520566429678829569">
                        <div class="chatlog__content">
                            <span class="markdown">And then komodod hangs with 100% CPU loading</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:45 AM</span>

                    <div class="chatlog__message " data-message-id="520566461769580557" id="message-520566461769580557">
                        <div class="chatlog__content">
                            <span class="markdown">Try something else, if it hangs than it is something else.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:45 AM</span>

                    <div class="chatlog__message " data-message-id="520566548897988629" id="message-520566548897988629">
                        <div class="chatlog__content">
                            <span class="markdown">Sure, let me try</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:47 AM</span>

                    <div class="chatlog__message " data-message-id="520566957636976640" id="message-520566957636976640">
                        <div class="chatlog__content">
                            <span class="markdown">I just had hang on first oraclesdata I issued</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520567070178541568" id="message-520567070178541568">
                        <div class="chatlog__content">
                            <span class="markdown">But thing is that I get the hex from previous and then I broadcast and try another oraclesdata and it hangs.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520567175711555585" id="message-520567175711555585">
                        <div class="chatlog__content">
                            <span class="markdown">Also I noticed that tx are not relayed all the time</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">07-Dec-18 11:48 AM</span>

                    <div class="chatlog__message " data-message-id="520567320125505536" id="message-520567320125505536">
                        <div class="chatlog__content">
                            <span class="markdown">when did this behavior start? very few changes recently to CC, only the fix for the validation</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:49 AM</span>

                    <div class="chatlog__message " data-message-id="520567456075350017" id="message-520567456075350017">
                        <div class="chatlog__content">
                            <span class="markdown">Not quite sure, as I was trying to figure out the problem yesterday and itm ay happen before my fix but not sure.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:49 AM</span>

                    <div class="chatlog__message " data-message-id="520567507313098773" id="message-520567507313098773">
                        <div class="chatlog__content">
                            <span class="markdown">Seems I can reproduce only on oracles</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520567539571490818" id="message-520567539571490818">
                        <div class="chatlog__content">
                            <span class="markdown">First oracles data  is broadcasting fine</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520567595477499904" id="message-520567595477499904">
                        <div class="chatlog__content">
                            <span class="markdown">And then komodod became unresponsible</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520567640368873473" id="message-520567640368873473">
                        <div class="chatlog__content">
                            <span class="markdown">If I broadcast 2 bets let say - everything is ok</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520567712045596674" id="message-520567712045596674">
                        <div class="chatlog__content">
                            <span class="markdown"></span>

                        </div>

                        <div class="chatlog__attachment">
                            <a href="https://cdn.discordapp.com/attachments/466507187842187264/520567712045596672/unknown.png">
                                
                                    <img class="chatlog__attachment-thumbnail" src="https://cdn.discordapp.com/attachments/466507187842187264/520567712045596672/unknown.png" />
                            </a>
                        </div>


                    </div>
                    <div class="chatlog__message " data-message-id="520567835056144404" id="message-520567835056144404">
                        <div class="chatlog__content">
                            <span class="markdown">Bets are ok</span>

                        </div>

                        <div class="chatlog__attachment">
                            <a href="https://cdn.discordapp.com/attachments/466507187842187264/520567833898254351/unknown.png">
                                
                                    <img class="chatlog__attachment-thumbnail" src="https://cdn.discordapp.com/attachments/466507187842187264/520567833898254351/unknown.png" />
                            </a>
                        </div>


                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:51 AM</span>

                    <div class="chatlog__message " data-message-id="520567940551147528" id="message-520567940551147528">
                        <div class="chatlog__content">
                            <span class="markdown">That&#39;s good. It may be then something either with my fix or oracles rpc</span>

                                <span class="chatlog__edited-timestamp" title="07-Dec-18 11:51 AM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:51 AM</span>

                    <div class="chatlog__message " data-message-id="520568097728495616" id="message-520568097728495616">
                        <div class="chatlog__content">
                            <span class="markdown">It&#39;s definitely might be since yesterday komodod not hanged after oraclesdata</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520568252733063170" id="message-520568252733063170">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji " alt="ðŸ¤ž" title="ðŸ¤ž" src="https://twemoji.maxcdn.com/2/72x72/1f91e.png" /> Hope it&#39;s local thing only for oracles</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:52 AM</span>

                    <div class="chatlog__message " data-message-id="520568297343811584" id="message-520568297343811584">
                        <div class="chatlog__content">
                            <span class="markdown">Then I screwed somthing for sure <img class="emoji " alt="ðŸ˜‰" title="ðŸ˜‰" src="https://twemoji.maxcdn.com/2/72x72/1f609.png" /> You cannot became good blockchain dev until you f*ck up something good <img class="emoji " alt="ðŸ˜›" title="ðŸ˜›" src="https://twemoji.maxcdn.com/2/72x72/1f61b.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:53 AM</span>

                    <div class="chatlog__message " data-message-id="520568544098910208" id="message-520568544098910208">
                        <div class="chatlog__content">
                            <span class="markdown">A person who never made a mistake never tried anything new. - Albert Einstein <img class="emoji " alt="ðŸ˜ƒ" title="ðŸ˜ƒ" src="https://twemoji.maxcdn.com/2/72x72/1f603.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:53 AM</span>

                    <div class="chatlog__message " data-message-id="520568646725009409" id="message-520568646725009409">
                        <div class="chatlog__content">
                            <span class="markdown">I can issue multiple oraclesdata without broadcasting it. So I think it is not RPC thing</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520568830020550656" id="message-520568830020550656">
                        <div class="chatlog__content">
                            <span class="markdown">And after I broadcast it and try another oraclesdata then it hangs</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 11:54 AM</span>

                    <div class="chatlog__message " data-message-id="520568898177859594" id="message-520568898177859594">
                        <div class="chatlog__content">
                            <span class="markdown">It hangs even without try</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520568946424807434" id="message-520568946424807434">
                        <div class="chatlog__content">
                            <span class="markdown">Right after broadcast you shouldn&#39;t be able to call anything</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520568966574374923" id="message-520568966574374923">
                        <div class="chatlog__content">
                            <span class="markdown">Like a <span class="pre pre--inline">getinfo</span> let&#39;s say</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 11:55 AM</span>

                    <div class="chatlog__message " data-message-id="520568981900361729" id="message-520568981900361729">
                        <div class="chatlog__content">
                            <span class="markdown">Probably, I just noticed when I tried another oraclesdata</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520569547347197973" id="message-520569547347197973">
                        <div class="chatlog__content">
                            <span class="markdown">It can be something in validation that locks, but why it happens now. I&#39;ll trace it, but I&#39;m thinking if you could test this without fix, but then you will have cc_verify error.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 12:01 PM</span>

                    <div class="chatlog__message " data-message-id="520570579712212993" id="message-520570579712212993">
                        <div class="chatlog__content">
                            <span class="markdown">Yep if I&#39;ll rollback - there is another issue like a stack element error after 3+ oraclesdata brodcast</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 12:01 PM</span>

                    <div class="chatlog__message " data-message-id="520570632279162893" id="message-520570632279162893">
                        <div class="chatlog__content">
                            <span class="markdown">Validation has passed, and getinfo and other prc works, but I see tx are not relayed. Tried sendtoaddress after that and see nothing is reaching mining node.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520570876744302618" id="message-520570876744302618">
                        <div class="chatlog__content">
                            <span class="markdown">Hmmm, I cannot make it hang now</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520571010240610324" id="message-520571010240610324">
                        <div class="chatlog__content">
                            <span class="markdown">It seems I need to call another oraclesdata to make it hang, before the block is mined</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">07-Dec-18 12:04 PM</span>

                    <div class="chatlog__message " data-message-id="520571254374268951" id="message-520571254374268951">
                        <div class="chatlog__content">
                            <span class="markdown">Hmm, yes you&#39;re right I think</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">07-Dec-18 12:06 PM</span>

                    <div class="chatlog__message " data-message-id="520571754297425921" id="message-520571754297425921">
                        <div class="chatlog__content">
                            <span class="markdown">Ok, located where it is. Trying to find the baton. Let me analyze this.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520572802366046208" id="message-520572802366046208">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> The problem seems to be here:
<div class="pre pre--multiline language-cpp">while ( myIsutxo_spentinmempool(batontxid,1) != 0 )
        batontxid = myIs_baton_spentinmempool(batontxid,1);</div>
I remeber we talked about this when I was fixing oracles before, but can&#39;t remeber what we said.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">07-Dec-18 12:12 PM</span>

                    <div class="chatlog__message " data-message-id="520573199113781248" id="message-520573199113781248">
                        <div class="chatlog__content">
                            <span class="markdown">probably need to check if it is a null batontxid and break with error</span>

                        </div>



                    </div>
            </div>
        </div>
</div>

</body>
</html>
