==============================================================
Guild: Komodo
Channel: notarynode
Topic: Setup Guide: https://docs.komodoplatform.com/notary/setup-Komodo-Notary-Node.html
Stats: https://komodostats.com
Messages: 100
Range: before 05-Dec-19 12:00 AM
==============================================================

[01-Oct-19 02:00 PM] jorian#4555
>>> NN Elected Volunteers are elected servants who serve the Group Consensus. They are elected with the understanding that they are trusted to have the best interests of Komodo and its NN operators at heart and to follow the will of the members as shown through Group Consensus.

{Reactions}
üëå 

[01-Oct-19 02:05 PM] PTYX#6840
Only incumbent notaries should get a vote

[01-Oct-19 02:42 PM] infotech-al#5583
Best governance model is a hybrid approach. Some new nn, some experienced nn, some selected from management... 1 season term limits. Must pass a written test üò¨

[01-Oct-19 02:43 PM] mrlynch#5735
and a logic test

[01-Oct-19 03:05 PM] smk762 -  dracocanis ominator#7640
and an EQ test?

[01-Oct-19 03:13 PM] mrlynch#5735
agreed

[01-Oct-19 03:13 PM] SHossain#0007
blood test? :abused_smiley:

{Reactions}
üç∑ (2) üòÇ 

[01-Oct-19 03:13 PM] mrlynch#5735
lower score the better

[01-Oct-19 03:14 PM] SHossain#0007
how about DNA? :troll:

[01-Oct-19 03:14 PM] mrlynch#5735
no blood, goat sacrifices are welcome though

{Reactions}
üòÇ (2) 

[01-Oct-19 03:14 PM] mrlynch#5735
welcome back in green btw

[01-Oct-19 03:16 PM] SHossain#0007
thanks. isn't that blue color?

[01-Oct-19 03:21 PM] infotech-al#5583
ü§£

[01-Oct-19 05:01 PM] zatJUM#9924
And what about *randomly selected NN ops*, instead of *NN Elected Volunteers*?
https://en.wikipedia.org/wiki/Sortition#Political_proposals_for_sortition

{Embed}
https://en.wikipedia.org/wiki/Sortition
Sortition
In governance, sortition (also known as selection by lot, allotment, or demarchy) is the selection of political officials as a random sample from a larger pool of candidates, a system intended to ensure that all competent and interested parties have an equal chance of holding...

[01-Oct-19 05:39 PM] infotech-al#5583
Some form of compensation keeps corruption checked

[02-Oct-19 06:33 AM] CrisF#3405
Hi @zatJUM, @PTYX and @infotech-al

Could you please add your comments to the KIP here?

[02-Oct-19 06:34 AM] CrisF#3405
`https://github.com/KomodoPlatform/kips/pull/4`

{Reactions}
üëç (2) 

[02-Oct-19 06:34 AM] PTYX#6840
i'll do it in the am tomorrow

[02-Oct-19 07:00 AM] CrisF#3405
Thank you üëç

[02-Oct-19 08:10 AM] CrisF#3405
Hi everyone, 
Sorry to be slow in announcing the KIP. 
(Thanks for letting everyone know @smk762 -  dracocanis ominator.)
 The KIP is on Github at the link that was posted above ‚òù 
It would be great if we can discuss it in Discord, but for any key points you have please add them to Github so they don't get lost.
Thank you for the comments already posted.

[02-Oct-19 11:21 AM] infotech-al#5583
Will do today

[06-Oct-19 09:06 AM] smk762 -  dracocanis ominator#7640
I've just noticed some issues with my third party server, and after contacting the providor it seems a hard drive replacement is required, so my node will be offline for a bit while that happens and I reinstall everything.

[06-Oct-19 10:15 AM] CrisF#3405
üò£

[07-Oct-19 03:51 PM] PTYX#6840
https://twitter.com/JEhrenhofer/status/1180548206092050432?s=19

{Embed}
Justin Ehrenhofer (@JEhrenhofer)
https://twitter.com/JEhrenhofer/status/1180548206092050432?s=19
I finally published an article that I mostly wrote in December and January about @KomodoPlatform's dPoW algorithm. Ultimately, my overall position remains the same: dPoW comes with tradeoffs that aren't adequately communicated in their marketing.

https://t.co/IF4xpOFg5A
Twitter

[07-Oct-19 03:55 PM] ComputerGenie üë¥üèºüì¢#7004
https://tenor.com/view/right-know-hes-gif-9789067

{Embed}
https://tenor.com/view/right-know-hes-gif-9789067
hes right you know
https://media.tenor.co/images/b88aaec19e0ceb4ca47c859f410f6908/tenor.png

[07-Oct-19 04:52 PM] jorian#4555
i want to hide that annoying thing

[07-Oct-19 04:56 PM] PHBA2061#2530
it seems we assume that the majorities of notaries are not evil nor colluded, but this doesn't get mentioned on the homepage, for marketing purpose

[07-Oct-19 04:56 PM] SHossain#0007
@jorian which one?
the gif?
or the tweet?

[07-Oct-19 04:59 PM] jorian#4555
the gif

[07-Oct-19 05:00 PM] jorian#4555
but don't censor CG

{Reactions}
abusedsmily 

[07-Oct-19 05:00 PM] jorian#4555
:abusedsmily:

[07-Oct-19 05:00 PM] jorian#4555
anyways, i agree with the last sentence

[07-Oct-19 05:01 PM] ComputerGenie üë¥üèºüì¢#7004
even if you hid the tenor button, I have most of them stored locally üòõ

[07-Oct-19 05:01 PM] PHBA2061#2530
it's been 5 days already ? welcome back CG :abusedsmily:

[07-Oct-19 05:02 PM] SHossain#0007
No. I didn't want to censor.

[07-Oct-19 05:02 PM] jorian#4555
you can't even spell it right, so i guess that's a good thing üòõ

{Reactions}
abused_smiley 

[07-Oct-19 05:02 PM] SHossain#0007
just wanted to write some message, so, the image will disappear

[07-Oct-19 05:02 PM] jorian#4555
yes let's write a lot here so it goes away

[07-Oct-19 05:03 PM] jorian#4555
but wait, then Moderator will come along...

{Reactions}
ü§ê 

[07-Oct-19 05:03 PM] SHossain#0007
i like sensors too much :)
so, that comes by default when typing... üòõ

{Reactions}
üòÑ 

[07-Oct-19 05:05 PM] ComputerGenie üë¥üèºüì¢#7004
`it's been 5 days already ?`
I've been back since Friday morning, but playing nice for reasons (not because the "punishment" had the desired effect)

{Reactions}
üëå (2) üíØ 

[07-Oct-19 05:11 PM] smk762 -  dracocanis ominator#7640

{Attachments}
https://cdn.discordapp.com/attachments/455755767132454913/630814468061921301/iu.png

{Reactions}
ü§£ (2) 

[07-Oct-19 05:13 PM] ComputerGenie üë¥üèºüì¢#7004
nothing "diabolical", mostly just because I picked up a new mortgage and I don't want to be out of pocket for it

[07-Oct-19 05:14 PM] smk762 -  dracocanis ominator#7640
welcome back unicorn üòÑ

{Reactions}
üëçüèΩ 

[07-Oct-19 05:40 PM] ComputerGenie üë¥üèºüì¢#7004
_was never really gone üòõ _

[07-Oct-19 05:41 PM] ComputerGenie üë¥üèºüì¢#7004
the good/bad part of the interwebz is that you can never really make an annoying jackass go away in public spaces

[07-Oct-19 05:43 PM] kolo#1111
Welcome

[07-Oct-19 06:21 PM] mrlynch#5735
welcome back mildly tempered genie üôÇ

{Reactions}
troll 

[11-Oct-19 04:05 PM] dukeleto#7326
If any NN ops have run into a coredump on block 99972 on HUSH, plz let me know: https://github.com/MyHush/hush3/issues/36

{Embed}
https://github.com/MyHush/hush3/issues/36
Cant sync my Node above Blockhight 99972 ¬∑ Issue #36 ¬∑ MyHush/hush3
I get the following error at Block 99972, after i compiled the latest version of Hush3/master and run ./hushd: Komodod: coins.cpp:564: const CTxOut&amp; CCoinsViewCache::GetOutputFor(const CTxI...
https://avatars0.githubusercontent.com/u/26923909?s=400&v=4

{Reactions}
üëå 

[11-Oct-19 05:51 PM] dukeleto#7326
It actually dumps core in processing block 99973, but the last log line will be about 99972

[11-Oct-19 06:49 PM] smk762 -  dracocanis ominator#7640
all good on my node

{Reactions}
‚úî (2) 

[11-Oct-19 07:12 PM] dukeleto#7326
It seems to effect many GUI wallet users, but no mining pools, exchanges or NNs have reported anything. Just wanted to make sure, in case a few NNs saw weird stuff

[11-Oct-19 07:21 PM] scubapanda#2485
`./komodod -ac_name=HUSH3 -ac_sapling=1 -ac_reward=0,1125000000,562500000 -ac_halving=129,340000,840000 -ac_end=128,340000,5422111 -ac_eras=3 -ac_blocktime=150 -ac_cc=2 -ac_ccenable=228,234,235,236,241 -ac_founders=1 -ac_supply=6178674 -ac_perc=11111111 -clientname=GoldenSandtrout -addnode=188.165.212.101 -addnode=136.243.227.142 -addnode=5.9.224.250 -ac_cclib=hush3 -ac_script=76a9145eb10cf64f2bab1b457f1f25e658526155928fac88ac
` crashes at UpdateTip: new best=000000031ece79e133074ee37257148e2c9ff8e7fb48d64f601fc40b1ef92c7c  height=99972

[12-Oct-19 01:52 AM] dukeleto#7326
yup

[12-Oct-19 01:52 AM] dukeleto#7326
that is the problem i have been debugging for days

[12-Oct-19 01:53 AM] dukeleto#7326
if you just need something that works, you can use a stock `komodod`

{Reactions}
ü§û 

[12-Oct-19 03:51 PM] Alright#0419
normal komodod won't work either

[12-Oct-19 03:51 PM] Alright#0419
fresh sync fails on every branch, just don't fresh sync üòÖ

[12-Oct-19 03:53 PM] ComputerGenie üë¥üèºüì¢#7004
fwiw: the HUSH issue predates any code prior to Feb 15
that's as far as I went back (the "piece of dog shit" that I am)

[12-Oct-19 03:55 PM] Alright#0419
yep, pretty damn old

[12-Oct-19 03:55 PM] mrlynch#5735
strange, i'm doing a fresh sync on pirate from dev branch.. going strong

[12-Oct-19 03:55 PM] Alright#0419
not going to affect pirate unless a notary did something similar

[12-Oct-19 03:55 PM] Alright#0419
needs to spend the utxos from a z->t in the same block

[12-Oct-19 03:55 PM] mrlynch#5735
but then again we don't have z->t

[12-Oct-19 04:55 PM] dukeleto#7326
the stock `komodod` binaries generated from CI can sync HUSH3

[12-Oct-19 04:55 PM] dukeleto#7326
not sure why normal `komodod` master doesn't have HUSH3 stuff yet, but that is @jl777c 's decision

[12-Oct-19 04:56 PM] jl777c#5810
master is updated only very rarely and it is handy for cases like this, as we can know that it worked as of last master update

[12-Oct-19 05:06 PM] dukeleto#7326
yes, managing risk is very real

[12-Oct-19 05:09 PM] jl777c#5810
beta branch is the NN branch anyway

[12-Oct-19 05:13 PM] dukeleto#7326
@jl777c there is an interesting diff between beta and FSM

[12-Oct-19 05:13 PM] dukeleto#7326
```
$ git diff origin/beta..origin/FSM -- src/txmempool.*
diff --git a/src/txmempool.cpp b/src/txmempool.cpp
index 2b38d7153..5f0fb2a47 100644
--- a/src/txmempool.cpp
+++ b/src/txmempool.cpp
@@ -121,7 +121,10 @@ bool CTxMemPool::addUnchecked(const uint256& hash, const CTxMemPoolEntry &entry,
     const CTransaction& tx = mapTx.find(hash)->GetTx();
     if (!tx.IsCoinImport()) {
         for (unsigned int i = 0; i < tx.vin.size(); i++)
+        {
+            if (tx.IsPegsImport() && i==0) continue;
             mapNextTx[tx.vin[i].prevout] = CInPoint(&tx, i);
+        }
     }
     BOOST_FOREACH(const JSDescription &joinsplit, tx.vjoinsplit) {
         BOOST_FOREACH(const uint256 &nf, joinsplit.nullifiers) {
@@ -147,6 +150,7 @@ void CTxMemPool::addAddressIndex(const CTxMemPoolEntry &entry, const CCoinsViewC

     uint256 txhash = tx.GetHash();
     for (unsigned int j = 0; j < tx.vin.size(); j++) {
+        if (tx.IsPegsImport() && j==0) continue;
         const CTxIn input = tx.vin[j];
         const CTxOut &prevout = view.GetOutputFor(input);

@@ -252,6 +256,7 @@ void CTxMemPool::addSpentIndex(const CTxMemPoolEntry &entry, const CCoinsViewCac

     uint256 txhash = tx.GetHash();
     for (unsigned int j = 0; j < tx.vin.size(); j++) {
+        if (tx.IsPegsImport() && j==0) continue;
         const CTxIn input = tx.vin[j];
```

[12-Oct-19 05:13 PM] dukeleto#7326
my question is, why were those lines needed?

[12-Oct-19 05:13 PM] dukeleto#7326
did @Mihailo run into these same problems, and fix it just for pegsCC ?

[12-Oct-19 05:13 PM] dukeleto#7326
those 3 `ifs` skip the code that coredumps in Hush

[12-Oct-19 05:15 PM] dukeleto#7326
it might be that a similar `continue` is needed for this case of zutxo-derived funds that are being spent from mempool

[12-Oct-19 05:15 PM] jl777c#5810
pegs has some very special "inputs" that are actually not utxo

[12-Oct-19 05:15 PM] jl777c#5810
but, yes some sort of special case check is needed

[12-Oct-19 05:16 PM] dukeleto#7326
ok, so for different reasons. But maybe the same check in a few places is needed

[12-Oct-19 05:17 PM] dukeleto#7326
"if we are spending from the mempool, and the txid we are spending comes from zutxo inputs, skip the `IsAvailable` check in `GetOutputFor`"

[12-Oct-19 05:17 PM] dukeleto#7326
@jl777c does something like that sound reasonable?

[12-Oct-19 05:18 PM] jl777c#5810
maybe IsAvailable should allow all zinputs and not require it be a taddr utxo?

[12-Oct-19 05:18 PM] jl777c#5810
not sure, this is code i havent changed

[12-Oct-19 05:19 PM] jl777c#5810
it seems it is just a mempool issue, so maybe a special case in the mempool accept is sufficient

[12-Oct-19 05:19 PM] dukeleto#7326
yes, i am not sure the exact logic of the special condition. I guess we need to make sure the same thing doesn't happen when not spending from the mempool

[12-Oct-19 05:20 PM] jl777c#5810
spending of z->t outputs is working, except in this edge case

[12-Oct-19 05:20 PM] Alright#0419
the issue exists in master branch as well

[12-Oct-19 05:20 PM] Alright#0419
I doubt that diff you posted has anything to do with it

[12-Oct-19 05:21 PM] jl777c#5810
i think i know how the chain confirmed it.

[12-Oct-19 05:22 PM] jl777c#5810
only nodes that saw the tx in the mempool in realtime accepted the block.

[12-Oct-19 05:22 PM] jl777c#5810
any node that had to sync, likely hit the error

[12-Oct-19 05:22 PM] Alright#0419
can test that

[12-Oct-19 05:22 PM] jl777c#5810
how?

[12-Oct-19 05:22 PM] Alright#0419
make a node not see it

[12-Oct-19 05:22 PM] dukeleto#7326
interesting edge cases, for sure

[12-Oct-19 05:22 PM] Alright#0419
I'll test it right now, will be simple enough

[12-Oct-19 05:23 PM] ComputerGenie üë¥üèºüì¢#7004
`only nodes that saw the tx in the mempool in realtime accepted the block.
any node that had to sync, likely hit the error`
that seems to hold as nodes that were live then cannot fresh sync now with 0 code changes

[12-Oct-19 05:23 PM] jl777c#5810
my theory is that only the nodes that saw it in their mempool when the critical block was mined, accepted it

[12-Oct-19 05:23 PM] dukeleto#7326
Hush probably has the highest transaction volume of any KMD smartchain that allows these kinds of transactions, so statistically we were most likely to hit this bug

[12-Oct-19 05:23 PM] jl777c#5810
i dont see how you can replicate this

[12-Oct-19 05:23 PM] Alright#0419
I'll do it, 30 minutes or so

