<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - dev-marketmaker</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    font-weight: 500;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #36393e;
    color: #dcddde;
}

a {
    color: #0096cf;
}

.spoiler {
    background-color: rgba(255, 255, 255, 0.1);
}

.quote {
    border-color: #4f545c;
}

.pre {
    background-color: #2f3136 !important;
}

.pre--multiline {
    border-color: #282b30 !important;
    color: #b9bbbe !important;
}

.mention {
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #ffffff;
}

.info__channel-name {
    color: #ffffff;
}

.info__channel-topic {
    color: #ffffff;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: rgba(255, 255, 255, 0.1);
}

.chatlog__author-name {
    color: #ffffff;
}

.chatlog__timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: rgba(255, 255, 255, 0.2);
}

.chatlog__embed-color-pill--default {
    background-color: rgba(79, 84, 92, 1);
}

.chatlog__embed-content-container {
    background-color: rgba(46, 48, 54, 0.3);
    border-color: rgba(46, 48, 54, 0.6);
}

.chatlog__embed-author-name {
    color: #ffffff;
}

.chatlog__embed-author-name-link {
    color: #ffffff;
}

.chatlog__embed-title {
    color: #ffffff;
}

.chatlog__embed-description {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-field-name {
    color: #ffffff;
}

.chatlog__embed-field-value {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__embed-footer {
    color: rgba(255, 255, 255, 0.6);
}

.chatlog__reaction {
    background-color: rgba(255, 255, 255, 0.05);
}

.chatlog__reaction-count {
    color: rgba(255, 255, 255, 0.3);
}
    </style>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach(block => hljs.highlightBlock(block));
        });
    </script>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">dev-marketmaker</div>

            <div class="info__channel-topic">Discussion about AtomiAPI and its market making tech.</div>

            <div class="info__channel-date-range">
                    Between 06-Jan-20 12:00 AM and 07-Jan-20 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
    <div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/448777271701143562/5c7972eba3e0f590a59f7e96563237b4.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="smk762#7640" data-user-id="448777271701143562">smk762</span>


        <span class="chatlog__timestamp">06-Jan-20 07:36 AM</span>

            <div class="chatlog__message " data-message-id="663647090911608853" id="message-663647090911608853">
                <div class="chatlog__content">
                    <span class="markdown"><span class="mention" title="Patrick Crypto#1546">@Patrick Crypto</span> I&#39;ve updated my local mm2 binary and coins file using pytomicDEX, and not faced any problems. Never got a DM from you to explain what issue you had, so not sure what the problem you had was. If you are still having a problem, please post it to <a href="https://github.com/smk762/pytomicDEX/issues">https://github.com/smk762/pytomicDEX/issues</a></span>

                </div>


            <div class="chatlog__embed">
                <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                <div class="chatlog__embed-content-container">
                    <div class="chatlog__embed-content">
                        <div class="chatlog__embed-text">

                            <div class="chatlog__embed-title">
                                <a class="chatlog__embed-title-link" href="https://github.com/smk762/pytomicDEX/issues"><span class="markdown">smk762/pytomicDEX</span></a>
                            </div>

                            <div class="chatlog__embed-description"><span class="markdown">Contribute to smk762/pytomicDEX development by creating an account on GitHub.</span></div>

                        </div>

                        <div class="chatlog__embed-thumbnail-container">
                            <a class="chatlog__embed-thumbnail-link" href="https://avatars3.githubusercontent.com/u/35845239?s=400&v=4">
                                <img class="chatlog__embed-thumbnail" src="https://avatars3.githubusercontent.com/u/35845239?s=400&v=4" />
                            </a>
                        </div>
                    </div>


                </div>
            </div>

            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/401454267812151298/0573e1f436fa17d9f4af8183292abf89.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="zatJUM#9924" data-user-id="401454267812151298">zatJUM</span>


        <span class="chatlog__timestamp">06-Jan-20 07:51 AM</span>

            <div class="chatlog__message " data-message-id="663650779806302228" id="message-663650779806302228">
                <div class="chatlog__content">
                    <span class="markdown"><span class="mention" title="smk762#7640">@smk762</span> Why is it mandatory to fill binance API keys to use pytomicDEX?</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/448777271701143562/5c7972eba3e0f590a59f7e96563237b4.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="smk762#7640" data-user-id="448777271701143562">smk762</span>


        <span class="chatlog__timestamp">06-Jan-20 09:26 AM</span>

            <div class="chatlog__message " data-message-id="663674669865631746" id="message-663674669865631746">
                <div class="chatlog__content">
                    <span class="markdown">heh, didnt realise it was mandatroy, I&#39;ve always had them in...  should work with an empty value tho. lemme check</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663674757623054357" id="message-663674757623054357">
                <div class="chatlog__content">
                    <span class="markdown">cant bot trade without it tho</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663675527726628875" id="message-663675527726628875">
                <div class="chatlog__content">
                    <span class="markdown">yeah, seems to work with blank values, tho error handling could be better.</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/448777271701143562/5c7972eba3e0f590a59f7e96563237b4.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="smk762#7640" data-user-id="448777271701143562">smk762</span>


        <span class="chatlog__timestamp">06-Jan-20 09:50 AM</span>

            <div class="chatlog__message " data-message-id="663680768039452681" id="message-663680768039452681">
                <div class="chatlog__content">
                    <span class="markdown"><span class="mention" title="zatJUM#9924">@zatJUM</span> updated to omit tui menu items requiring binance keys. You&#39;ll still need to set them to empty value in api_keys.json tho, but I&#39;ve made it automatically do that if user doesnt</span>

                        <span class="chatlog__edited-timestamp" title="06-Jan-20 09:50 AM">(edited)</span>
                </div>



                <div class="chatlog__reactions">
                        <div class="chatlog__reaction">
                            <img class="emoji emoji--small" alt="ðŸ‘Œ" title="ðŸ‘Œ" src="https://twemoji.maxcdn.com/2/72x72/1f44c.png" />
                            <span class="chatlog__reaction-count">1</span>
                        </div>
                </div>
            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/401454267812151298/0573e1f436fa17d9f4af8183292abf89.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="zatJUM#9924" data-user-id="401454267812151298">zatJUM</span>


        <span class="chatlog__timestamp">06-Jan-20 09:53 AM</span>

            <div class="chatlog__message " data-message-id="663681458652708864" id="message-663681458652708864">
                <div class="chatlog__content">
                    <span class="markdown">It&#39;s still querying Binance:<div class="pre pre--multiline nohighlight">Getting prices from Binance...
Getting prices from CoinGecko...
Getting prices from mm2 orderbook...
 --------------------------------------------------------------------------------------------------------------------------------------------------------
 |   COIN   |          ADDRESS (green = bot trading)           |  BALANCE  |   BTC PRICE    | BTC VALUE | USD PRICE | USD VALUE | AUD PRICE | AUD VALUE |
 --------------------------------------------------------------------------------------------------------------------------------------------------------</div></span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663681503456133161" id="message-663681503456133161">
                <div class="chatlog__content">
                    <span class="markdown"><div class="pre pre--multiline nohighlight">Traceback (most recent call last):
  File &quot;./mm2_tui.py&quot;, line 140, in &lt;module&gt;
    main()
  File &quot;./mm2_tui.py&quot;, line 117, in main
    list(menuItems[int(choice)].values())[0](local_ip, userpass)
  File &quot;lib/tuilib.py&quot;, line 566, in show_balances_table
    for coin in coins_data:
TypeError: &#39;NoneType&#39; object is not iterable</div></span>

                        <span class="chatlog__edited-timestamp" title="06-Jan-20 09:54 AM">(edited)</span>
                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/448777271701143562/5c7972eba3e0f590a59f7e96563237b4.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="smk762#7640" data-user-id="448777271701143562">smk762</span>


        <span class="chatlog__timestamp">06-Jan-20 01:41 PM</span>

            <div class="chatlog__message " data-message-id="663738893610516480" id="message-663738893610516480">
                <div class="chatlog__content">
                    <span class="markdown">it&#39;ll query binance for prices, no api keys required. You can see it passes that step, then gets prices from coingecko without issue.</span>

                        <span class="chatlog__edited-timestamp" title="06-Jan-20 01:49 PM">(edited)</span>
                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/448777271701143562/5c7972eba3e0f590a59f7e96563237b4.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="smk762#7640" data-user-id="448777271701143562">smk762</span>


        <span class="chatlog__timestamp">06-Jan-20 01:58 PM</span>

            <div class="chatlog__message " data-message-id="663743194605027359" id="message-663743194605027359">
                <div class="chatlog__content">
                    <span class="markdown">I&#39;ve added an error print in the build_coins_data() function. Git pull and let me know if it displays more info.</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/401454267812151298/0573e1f436fa17d9f4af8183292abf89.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="zatJUM#9924" data-user-id="401454267812151298">zatJUM</span>


        <span class="chatlog__timestamp">06-Jan-20 02:30 PM</span>

            <div class="chatlog__message " data-message-id="663751260603940864" id="message-663751260603940864">
                <div class="chatlog__content">
                    <span class="markdown"><div class="pre pre--multiline nohighlight">Getting prices from mm2 orderbook...
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;
Error getting KMD price: &#39;asks&#39;</div></span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/448777271701143562/5c7972eba3e0f590a59f7e96563237b4.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="smk762#7640" data-user-id="448777271701143562">smk762</span>


        <span class="chatlog__timestamp">06-Jan-20 03:43 PM</span>

            <div class="chatlog__message " data-message-id="663769499618639873" id="message-663769499618639873">
                <div class="chatlog__content">
                    <span class="markdown">cool, so working otherwise? I&#39;ll try and make that a silent fail. Do you have KMD activated?</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/401454267812151298/0573e1f436fa17d9f4af8183292abf89.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="zatJUM#9924" data-user-id="401454267812151298">zatJUM</span>


        <span class="chatlog__timestamp">06-Jan-20 04:29 PM</span>

            <div class="chatlog__message " data-message-id="663781301358428160" id="message-663781301358428160">
                <div class="chatlog__content">
                    <span class="markdown">Yes. Electrum</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 05:59 PM</span>

            <div class="chatlog__message " data-message-id="663803825186013221" id="message-663803825186013221">
                <div class="chatlog__content">
                    <span class="markdown"><span class="mention" title="artem.pikulin#0794">@artem.pikulin</span> yes, no need to change anything because of AXE
i have another thing... saw couple of swaps failing because the MakerPayment sent by the Maker can&#39;t be seen by the Taker
eg, <span class="pre pre--inline">3cada8bf-95ba-4acd-ba7a-735d3e0845a1</span>
<div class="pre pre--multiline nohighlight">MAKER
         &quot;event&quot; : {
            &quot;data&quot; : {
               &quot;tx_hash&quot; : &quot;1621e7f7c60d15b12bad6037410f147d5e7a510e624d0990bb2f6abef8ba530b&quot;,
               &quot;coin&quot; : &quot;KMD&quot;
            },
            &quot;type&quot; : &quot;MakerPaymentSent&quot;
         },
         &quot;timestamp&quot; : 1578308266486</div>
but taker errors with <span class="pre pre--inline">MakerPaymentValidateFailed</span>
<span class="pre pre--inline">taker_swap:718] !wait for maker payment confirmations: rpc_clients:107] Waited too long until 1578310692 for transaction Transaction to be confirmed 2 times</span>
1578310692 is <span class="pre pre--inline">01/06/2020 @ 11:38am (UTC)</span>
but <a href="https://kmdexplorer.io/tx/1621e7f7c60d15b12bad6037410f147d5e7a510e624d0990bb2f6abef8ba530b">https://kmdexplorer.io/tx/1621e7f7c60d15b12bad6037410f147d5e7a510e624d0990bb2f6abef8ba530b</a> tells me <span class="pre pre--inline">mined Jan 6, 2020 10:58:49 AM</span></span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663804549189861376" id="message-663804549189861376">
                <div class="chatlog__content">
                    <span class="markdown">don&#39;t know what the problem is, but i have seen this often in the last days...
sometimes this swaps are working, but it takes very long
<div class="pre pre--multiline nohighlight">06 17:15:23, maker_swap:461] Maker payment tx 4b9bae8c93206972fa619a871904323afab1da9a6413c8cbab2d1efbc959076e
06 17:15:23, maker_swap:483] Sending &#39;maker-payment@872230bd-d86c-4fa9-aa4f-026a993e9e47&#39; (686 bytes, crc 2973208954)
...
| (38:47) [swap uuid=872230bd-d86c-4fa9-aa4f-026a993e9e47] Maker payment sent...
06 17:52:36, maker_swap:492] Received &#39;taker-payment@872230bd-d86c-4fa9-aa4f-026a993e9e47&#39; (244 bytes, crc 2926632879)
06 17:52:36, maker_swap:509] Taker payment tx e8e0aa380dd6a1fea0f777414f9079a4c1145ac279c738e854643567300f024c
+--- 06 17:52:36 -------
| (39:06) [swap uuid=872230bd-d86c-4fa9-aa4f-026a993e9e47] Taker payment wait confirm started...
| (0:00/4:12) [ETH] Waiting for confirmationsâ€¦
&#183; 2020-01-06 17:52:36 +0000 [ETH] Waiting for confirmationsâ€¦ Confirmed.
06 17:52:37, eth:2234] Max nonce 182 != 181 min nonce
&#183; 2020-01-06 17:52:38 +0000 [sign-and-send] get_addr_nonceâ€¦
06 17:52:38, maker_swap:588] Taker payment spend tx b95810af9d7b3368b181bc4e94b25a4e70881d684b3b89eab4325b8c36a8db2b
&#183; 2020-01-06 17:52:38 +0000 [swap uuid=872230bd-d86c-4fa9-aa4f-026a993e9e47] Finished</div>
so it took the taker 39 minutes to see the KMD MakerPayment... and then the swap finished in 10s</span>

                        <span class="chatlog__edited-timestamp" title="06-Jan-20 06:13 PM">(edited)</span>
                </div>



            </div>
            <div class="chatlog__message " data-message-id="663805280458375169" id="message-663805280458375169">
                <div class="chatlog__content">
                    <span class="markdown">i also looked on the KMD electrums and they know about the MakerPayment-tx long before Taker knows about it... very strange</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 06:15 PM</span>

            <div class="chatlog__message " data-message-id="663807888153640990" id="message-663807888153640990">
                <div class="chatlog__content">
                    <span class="markdown"><a href="https://kmdexplorer.io/tx/4b9bae8c93206972fa619a871904323afab1da9a6413c8cbab2d1efbc959076e">https://kmdexplorer.io/tx/4b9bae8c93206972fa619a871904323afab1da9a6413c8cbab2d1efbc959076e</a> was <span class="pre pre--inline">mined Jan 6, 2020 5:20:52 PM</span> and it took the taker till 17:52:36 to see the tx...</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 06:26 PM</span>

            <div class="chatlog__message " data-message-id="663810694260457492" id="message-663810694260457492">
                <div class="chatlog__content">
                    <span class="markdown">is the time the Taker &quot;waits&quot; for MakerPayment dependent on the used TakerCoin? MakerCoin was in both cases KMD, one swap made it after 32 minutes, the other failed after 39 minutes</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/457121878465708043/e2ce8e76becd1d8e75a7f1a5407bc11f.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="artem.pikulin#0794" data-user-id="457121878465708043">artem.pikulin</span>


        <span class="chatlog__timestamp">06-Jan-20 06:46 PM</span>

            <div class="chatlog__message " data-message-id="663815649776369675" id="message-663815649776369675">
                <div class="chatlog__content">
                    <span class="markdown"><span class="mention" title="cipi#4502">@cipi</span> The <span class="pre pre--inline">required_confirmations</span> is 2 for KMD which means that notarization is required. MM2 uses standard 2/4 hours locktimes for KMD swap tx. And also it doesn&#39;t wait for full locktime to expire while checking confirmations, it uses 1/3 of the locktime which is ~40 minutes in this case: <a href="https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs#L534">https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs#L534</a>
So when KMD notarization takes over ~40 minutes the swap will be aborted.
It&#39;s also true for all asset chains using <span class="pre pre--inline">required_confirmations: 2</span>.</span>

                </div>


            <div class="chatlog__embed">
                <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                <div class="chatlog__embed-content-container">
                    <div class="chatlog__embed-content">
                        <div class="chatlog__embed-text">

                            <div class="chatlog__embed-title">
                                <a class="chatlog__embed-title-link" href="https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs"><span class="markdown">KomodoPlatform/atomicDEX-API</span></a>
                            </div>

                            <div class="chatlog__embed-description"><span class="markdown">This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API</span></div>

                        </div>

                        <div class="chatlog__embed-thumbnail-container">
                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/21276113?s=400&v=4">
                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/21276113?s=400&v=4" />
                            </a>
                        </div>
                    </div>


                </div>
            </div>

            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


        <span class="chatlog__timestamp">06-Jan-20 06:52 PM</span>

            <div class="chatlog__message " data-message-id="663817095490043945" id="message-663817095490043945">
                <div class="chatlog__content">
                    <span class="markdown">can you wait for 2/3 of locktime?</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 06:57 PM</span>

            <div class="chatlog__message " data-message-id="663818392637014066" id="message-663818392637014066">
                <div class="chatlog__content">
                    <span class="markdown">ok, i forgot that KMD waits for 2 confs (nota)... the setting is not in the coins file <a href="https://github.com/jl777/coins/blob/master/coins#L13">https://github.com/jl777/coins/blob/master/coins#L13</a> for KMD, so my nodes are still using only 1 confirmation for KMD
but i fear that when i change my settings to 2 too, more swaps will fail</span>

                </div>


            <div class="chatlog__embed">
                <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                <div class="chatlog__embed-content-container">
                    <div class="chatlog__embed-content">
                        <div class="chatlog__embed-text">

                            <div class="chatlog__embed-title">
                                <a class="chatlog__embed-title-link" href="https://github.com/jl777/coins/blob/master/coins"><span class="markdown">jl777/coins</span></a>
                            </div>

                            <div class="chatlog__embed-description"><span class="markdown">coin parameters and all files needed for GUI support - jl777/coins</span></div>

                        </div>

                        <div class="chatlog__embed-thumbnail-container">
                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/5962559?s=400&v=4">
                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/5962559?s=400&v=4" />
                            </a>
                        </div>
                    </div>


                </div>
            </div>

            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


        <span class="chatlog__timestamp">06-Jan-20 06:59 PM</span>

            <div class="chatlog__message " data-message-id="663818942887755831" id="message-663818942887755831">
                <div class="chatlog__content">
                    <span class="markdown">i think some notarizations could have 40 minute gaps, but very few would be 80 minute gaps</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663819066364133395" id="message-663819066364133395">
                <div class="chatlog__content">
                    <span class="markdown">or maybe the logic can be that if there is one confirmation to wait a bit longer? the other side has done their part and it is now waiting for the blockchain</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/457121878465708043/e2ce8e76becd1d8e75a7f1a5407bc11f.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="artem.pikulin#0794" data-user-id="457121878465708043">artem.pikulin</span>


        <span class="chatlog__timestamp">06-Jan-20 08:17 PM</span>

            <div class="chatlog__message " data-message-id="663838637842104358" id="message-663838637842104358">
                <div class="chatlog__content">
                    <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span>  <span class="pre pre--inline">can you wait for 2/3 of locktime?</span> yes, it&#39;s 1 line backwards compatible change. However we might still have to increase the locktime especially when 2 notarized coins are swapped. E.g. if on DEX/KMD swap DEX payment (4h locktime) takes 80 minutes for notarization and then KMD payment (2h locktime) takes 80 minutes for notarization the KMD payment will be refundable right away. So it should be 40/20 hours (same as BTC) or bit lower as we have a request to decrease BTC payments locktime.</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


        <span class="chatlog__timestamp">06-Jan-20 08:20 PM</span>

            <div class="chatlog__message " data-message-id="663839353037914113" id="message-663839353037914113">
                <div class="chatlog__content">
                    <span class="markdown">not sure why there is a need to boost the locktimes 10x for KMD. if it is made to be 2/3rds, it should solve this issue</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/457121878465708043/e2ce8e76becd1d8e75a7f1a5407bc11f.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="artem.pikulin#0794" data-user-id="457121878465708043">artem.pikulin</span>


        <span class="chatlog__timestamp">06-Jan-20 08:29 PM</span>

            <div class="chatlog__message " data-message-id="663841644965003274" id="message-663841644965003274">
                <div class="chatlog__content">
                    <span class="markdown">If there&#39;s 80 minutes gap for case when 2 notarized coins are swapped total confirmation times of 2 payments will be 160 minutes which is more than 120 minutes taker payment locktime so it is already refundable at this time and swap doesn&#39;t make sense. Notarization means that we actually wait for BTC block confirmation, right? Then we should use same locktime as we use for BTC (which is 10x now).</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663843285189787657" id="message-663843285189787657">
                <div class="chatlog__content">
                    <span class="markdown">If only 1 coin is slow the <span class="pre pre--inline">2/3</span> will do the trick, but if both are slow then standard locktimes might be not sufficient.</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


        <span class="chatlog__timestamp">06-Jan-20 09:13 PM</span>

            <div class="chatlog__message " data-message-id="663852633886425142" id="message-663852633886425142">
                <div class="chatlog__content">
                    <span class="markdown"><span class="pre pre--inline">don&#39;t know what the problem is, but i have seen this often in the last days...</span> in one of the latest AtomicDEX mobile GUI updates for users funds safety reasons <span class="pre pre--inline">required_confirmations: 2</span> param was added for KMD and all Komodo ecosystem ACs, I think it should be related</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 09:31 PM</span>

            <div class="chatlog__message " data-message-id="663857087591219224" id="message-663857087591219224">
                <div class="chatlog__content">
                    <span class="markdown">yes, i forgot about the 2 confs required for KMD too... and maybe the problem is not that big, it is just that i now look more often into the details of failed swaps since i set up the DB with the errors
so i would not increase timeout on KMD/ACs too much</span>

                        <span class="chatlog__edited-timestamp" title="06-Jan-20 09:36 PM">(edited)</span>
                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 09:44 PM</span>

            <div class="chatlog__message " data-message-id="663860525142114325" id="message-663860525142114325">
                <div class="chatlog__content">
                    <span class="markdown"><div class="pre pre--multiline nohighlight">+---------------------+------------+------------+----------------------------+
| started_at          | taker_coin | maker_coin | taker_error_type           |
+---------------------+------------+------------+----------------------------+
| 2020-01-06 05:32:31 | LTC        | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 06:03:20 | TUSD       | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 08:10:43 | LTC        | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 10:54:52 | LTC        | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 16:37:59 | KMD        | DEX        | MakerPaymentValidateFailed |
+---------------------+------------+------------+----------------------------+</div>
swaps with this type of error in the last 24h... there were 2 or 3 others with <span class="pre pre--inline">MakerPaymentValidateFailed</span>, but not this kind</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663861366205186113" id="message-663861366205186113">
                <div class="chatlog__content">
                    <span class="markdown">if all our theories are correct, then it means that notarization on KMD chain was delayed more than 40 min. at least 4 times in the last 24h... can that be?</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/2.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="cipi#4502" data-user-id="419964976397156352">cipi</span>


        <span class="chatlog__timestamp">06-Jan-20 10:08 PM</span>

            <div class="chatlog__message " data-message-id="663866396052291610" id="message-663866396052291610">
                <div class="chatlog__content">
                    <span class="markdown">i will setup a check in nagios and let it draw a simple chart <span class="pre pre--inline">seconds since last notarization</span> with data taken from <a href="https://komodostats.com/api/notary/coin.json?coinName=KMD">https://komodostats.com/api/notary/coin.json?coinName=KMD</a> ... then  we will see
i assume there is no such chart atm...</span>

                </div>



            </div>
    </div>
</div><div class="chatlog__message-group">
    <div class="chatlog__author-avatar-container">
        <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
    </div>
    <div class="chatlog__messages">
        <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


        <span class="chatlog__timestamp">06-Jan-20 10:22 PM</span>

            <div class="chatlog__message " data-message-id="663870074498842624" id="message-663870074498842624">
                <div class="chatlog__content">
                    <span class="markdown">do we have any documentation on the script of mm2 txes</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663870408860368946" id="message-663870408860368946">
                <div class="chatlog__content">
                    <span class="markdown">code where it&#39;s made would suffice as well</span>

                </div>



            </div>
            <div class="chatlog__message " data-message-id="663871917689929728" id="message-663871917689929728">
                <div class="chatlog__content">
                    <span class="markdown"><a href="https://github.com/KomodoPlatform/atomicDEX-API/blob/401425c5858c90b0381277131b872c481a37e79b/mm2src/lp_swap.rs#L22">https://github.com/KomodoPlatform/atomicDEX-API/blob/401425c5858c90b0381277131b872c481a37e79b/mm2src/lp_swap.rs#L22</a> nice</span>

                </div>


            <div class="chatlog__embed">
                <div class="chatlog__embed-color-pill" style="background-color: rgba(30,35,39,1)"></div>
                <div class="chatlog__embed-content-container">
                    <div class="chatlog__embed-content">
                        <div class="chatlog__embed-text">

                            <div class="chatlog__embed-title">
                                <a class="chatlog__embed-title-link" href="https://github.com/KomodoPlatform/atomicDEX-API/blob/401425c5858c90b0381277131b872c481a37e79b/mm2src/lp_swap.rs"><span class="markdown">KomodoPlatform/atomicDEX-API</span></a>
                            </div>

                            <div class="chatlog__embed-description"><span class="markdown">This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API</span></div>

                        </div>

                        <div class="chatlog__embed-thumbnail-container">
                            <a class="chatlog__embed-thumbnail-link" href="https://avatars2.githubusercontent.com/u/21276113?s=400&v=4">
                                <img class="chatlog__embed-thumbnail" src="https://avatars2.githubusercontent.com/u/21276113?s=400&v=4" />
                            </a>
                        </div>
                    </div>


                </div>
            </div>

            </div>
    </div>
</div>
</div>

</body>
</html>