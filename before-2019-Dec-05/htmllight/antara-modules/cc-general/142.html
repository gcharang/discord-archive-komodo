<!DOCTYPE html>
<html lang="en">

<head>
    <title>Komodo - cc-general</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />

    <style>
        /* === GENERAL === */

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/6c6374bad0b0b6d204d8d6dc4a18d820.woff);
    font-weight: 300;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/e8acd7d9bf6207f99350ca9f9e23b168.woff);
    font-weight: 400;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/3bdef1251a424500c1b3a78dea9b7e57.woff);
    font-weight: 500;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/be0060dafb7a0e31d2a1ca17c0708636.woff);
    font-weight: 600;
}

@font-face {
    font-family: Whitney;
    src: url(https://discordapp.com/assets/8e12fb4f14d9c4592eb8ec9f22337b04.woff);
    font-weight: 700;
}

body {
    font-family: "Whitney", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 17px;
}

a {
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    object-fit: contain;
}

.markdown {
    white-space: pre-wrap;
    line-height: 1.3;
    overflow-wrap: break-word;
}

.spoiler {
    border-radius: 3px;
}

.quote {
    border-left: 4px solid;
    border-radius: 3px;
    margin: 8px 0;
    padding-left: 10px;
}

.pre {
    font-family: "Consolas", "Courier New", Courier, monospace;
}

.pre--multiline {
    margin-top: 4px;
    padding: 8px;
    border: 2px solid;
    border-radius: 5px;
}

.pre--inline {
    padding: 2px;
    border-radius: 3px;
    font-size: 85%;
}

.mention {
    font-weight: 500;
}

.emoji {
    width: 1.45em;
    height: 1.45em;
    margin: 0 1px;
    vertical-align: -0.4em;
}

.emoji--small {
    width: 1rem;
    height: 1rem;
}

.emoji--large {
    width: 2rem;
    height: 2rem;
}

/* === INFO === */

.info {
    display: flex;
    max-width: 100%;
    margin: 0 5px 10px 5px;
}

.info__guild-icon-container {
    flex: 0;
}

.info__guild-icon {
    max-width: 88px;
    max-height: 88px;
}

.info__metadata {
    flex: 1;
    margin-left: 10px;
}

.info__guild-name {
    font-size: 1.4em;
}

.info__channel-name {
    font-size: 1.2em;
}

.info__channel-topic {
    margin-top: 2px;
}

.info__channel-message-count {
    margin-top: 2px;
}

.info__channel-date-range {
    margin-top: 2px;
}

/* === CHATLOG === */

.chatlog {
    max-width: 100%;
    margin-bottom: 24px;
}

.chatlog__message-group {
    display: flex;
    margin: 0 10px;
    padding: 15px 0;
    border-top: 1px solid;
}

.chatlog__author-avatar-container {
    flex: 0;
    width: 40px;
    height: 40px;
}

.chatlog__author-avatar {
    border-radius: 50%;
    height: 40px;
    width: 40px;
}

.chatlog__messages {
    flex: 1;
    min-width: 50%;
    margin-left: 20px;
}

.chatlog__author-name {
    font-size: 1em;
    font-weight: 500;
}

.chatlog__timestamp {
    margin-left: 5px;
    font-size: .75em;
}

.chatlog__message {
    padding: 2px 5px;
    margin-right: -5px;
    margin-left: -5px;
    background-color: transparent;
    transition: background-color 1s ease;
}

.chatlog__content {
    font-size: .9375em;
    word-wrap: break-word;
}

.chatlog__edited-timestamp {
    margin-left: 3px;
    font-size: .8em;
}

.chatlog__attachment-thumbnail {
    margin-top: 5px;
    max-width: 50%;
    max-height: 500px;
    border-radius: 3px;
}

.chatlog__embed {
    margin-top: 5px;
    display: flex;
    max-width: 520px;
}

.chatlog__embed-color-pill {
    flex-shrink: 0;
    width: 4px;
    border-top-left-radius: 3px;
    border-bottom-left-radius: 3px;
}

.chatlog__embed-content-container {
    display: flex;
    flex-direction: column;
    padding: 8px 10px;
    border: 1px solid;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
}

.chatlog__embed-content {
    width: 100%;
    display: flex;
}

.chatlog__embed-text {
    flex: 1;
}

.chatlog__embed-author {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.chatlog__embed-author-icon {
    width: 20px;
    height: 20px;
    margin-right: 9px;
    border-radius: 50%;
}

.chatlog__embed-author-name {
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-title {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-description {
    font-weight: 500;
    font-size: 14px;
}

.chatlog__embed-fields {
    display: flex;
    flex-wrap: wrap;
}

.chatlog__embed-field {
    flex: 0;
    min-width: 100%;
    max-width: 506px;
    padding-top: 10px;
}

.chatlog__embed-field--inline {
    flex: 1;
    flex-basis: auto;
    min-width: 150px;
}

.chatlog__embed-field-name {
    margin-bottom: 4px;
    font-size: .875em;
    font-weight: 600;
}

.chatlog__embed-field-value {
    font-size: .875em;
    font-weight: 500;
}

.chatlog__embed-thumbnail {
    flex: 0;
    margin-left: 20px;
    max-width: 80px;
    max-height: 80px;
    border-radius: 3px;
}

.chatlog__embed-image-container {
    margin-top: 10px;
}

.chatlog__embed-image {
    max-width: 500px;
    max-height: 400px;
    border-radius: 3px;
}

.chatlog__embed-footer {
    margin-top: 10px;
}

.chatlog__embed-footer-icon {
    margin-right: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    vertical-align: middle;
}

.chatlog__embed-footer-text {
    font-weight: 500;
    font-size: .75em;
}

.chatlog__reactions {
    display: flex;
}

.chatlog__reaction {
    display: flex;
    align-items: center;
    margin: 6px 2px 2px 2px;
    padding: 3px 6px;
    border-radius: 3px;
}

.chatlog__reaction-count {
    min-width: 9px;
    margin-left: 6px;
    font-size: .875em;
}

.chatlog__bot-tag {
    margin-left: 0.3em;
    background: #7289da;
    color: #ffffff;
    font-size: 0.625em;
    padding: 1px 2px;
    border-radius: 3px;
    vertical-align: middle;
    line-height: 1.3;
    position: relative;
    top: -.2em;
}
    </style>
    <style>
        /* === GENERAL === */

body {
    background-color: #ffffff;
    color: #23262a;
    font-weight: 500;
}

a {
    color: #00b0f4;
}

.spoiler {
    background-color: rgba(0, 0, 0, 0.1);
}

.quote {
    border-color: #c7ccd1;
}

.pre {
    background-color: #f9f9f9 !important;
}

.pre--multiline {
    border-color: #f3f3f3 !important;
    color: #657b83 !important;
}

.mention {
    background-color: #f1f3fb;
    color: #7289da;
}

/* === INFO === */

.info__guild-name {
    color: #2f3136;
}

.info__channel-name {
    color: #2f3136;
}

.info__channel-topic {
    color: #2f3136;
}

/* === CHATLOG === */

.chatlog__message-group {
    border-color: #eceeef;
}

.chatlog__author-name {
    font-weight: 600;
    color: #2f3136;
}

.chatlog__timestamp {
    color: #747f8d;
}

.chatlog__message--highlighted {
    background-color: rgba(114, 137, 218, 0.2) !important;
}

.chatlog__message--pinned {
    background-color: rgba(249, 168, 37, 0.05);
}

.chatlog__edited-timestamp {
    color: #747f8d;
}

.chatlog__embed-content-container {
    background-color: rgba(249, 249, 249, 0.3);
    border-color: rgba(204, 204, 204, 0.3);
}

.chatlog__embed-author-name {
    color: #4f545c;
}

.chatlog__embed-author-name-link {
    color: #4f545c;
}

.chatlog__embed-title {
    color: #4f545c;
}

.chatlog__embed-description {
    color: #737f8d;
}

.chatlog__embed-field-name {
    color: #36393e;
}

.chatlog__embed-field-value {
    color: #737f8d;
}

.chatlog__embed-footer {
    color: rgba(79, 83, 91, 0.6);
}

.chatlog__reaction {
    background-color: rgba(79, 84, 92, 0.06);
}

.chatlog__reaction-count {
    color: #747f8d;
}
    </style>

    <script>
        function scrollToMessage(event, id) {
            var element = document.getElementById('message-' + id);

            if (element !== null && element !== undefined) {
                event.preventDefault();

                element.classList.add('chatlog__message--highlighted');

                window.scrollTo({
                    top: element.getBoundingClientRect().top - document.body.getBoundingClientRect().top - (window.innerHeight / 2),
                    behavior: 'smooth'
                });

                window.setTimeout(function() {
                    element.classList.remove('chatlog__message--highlighted');
                }, 2000);
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-light.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.pre--multiline').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>
<body>

<div class="info">
    <div class="info__guild-icon-container">
        <img class="info__guild-icon" src="https://cdn.discordapp.com/icons/412898016371015680/a_157cb08c4198ad53b9e9b7168c930571.png" />
    </div>
    <div class="info__metadata">
        <div class="info__guild-name">Komodo</div>
        <div class="info__channel-name">cc-general</div>

            <div class="info__channel-topic">Dev Docs: https://developers.komodoplatform.com | Test plan: https://docs.google.com/spreadsheets/d/1l0dWEPcrv9zE11_TD-XrX_HIYV0VLpadCJN6hvaZERc/edit#gid=211514340
https://medium.com/@jameslee777/how-to-implement-finite-state-machines-into-a-cc-8dfeadccbcad
https://github.com/dimxy/komodo/wiki/Designing-RPC-for-FSM-CC</div>

        <div class="info__channel-message-count">100 messages</div>

            <div class="info__channel-date-range">
                    Before 05-Dec-19 12:00 AM
            </div>
    </div>
</div>

<div class="chatlog">
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:26 PM</span>

                    <div class="chatlog__message " data-message-id="519867088257417216" id="message-519867088257417216">
                        <div class="chatlog__content">
                            <span class="markdown">But it was changed later?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 01:26 PM</span>

                    <div class="chatlog__message " data-message-id="519867249956487168" id="message-519867249956487168">
                        <div class="chatlog__content">
                            <span class="markdown">its from verus commit ... maybe <span class="mention" title="jl777c#5810">@jl777c</span>  already changed part of it to get some things working ... my guess is its disabled elswhere we need to ask <span class="mention" title="miketout#8148">@miketout</span>  why he disabled it</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519867329140752399" id="message-519867329140752399">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="ðŸ¤·" title="ðŸ¤·" src="https://twemoji.maxcdn.com/2/72x72/1f937.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:27 PM</span>

                    <div class="chatlog__message " data-message-id="519867520249757746" id="message-519867520249757746">
                        <div class="chatlog__content">
                            <span class="markdown">Yep, we need to know what was the idea.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519867715838803968" id="message-519867715838803968">
                        <div class="chatlog__content">
                            <span class="markdown">But looking at upper code, the if isn&#39;t reached at all. The return is before and returns from function...</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519867788987334657" id="message-519867788987334657">
                        <div class="chatlog__content">
                            <span class="markdown">So it is the same as now...
<div class="pre pre--multiline language-cpp">default:
            return(ProcessCC(cp,this, vparams, txTo, nIn));
            break;</div></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 01:29 PM</span>

                    <div class="chatlog__message " data-message-id="519867886366359562" id="message-519867886366359562">
                        <div class="chatlog__content">
                            <span class="markdown">the coin imports above were what led me there...</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519867911746224129" id="message-519867911746224129">
                        <div class="chatlog__content">
                            <span class="markdown">they wer just commented out</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519867947179704340" id="message-519867947179704340">
                        <div class="chatlog__content">
                            <span class="markdown">so non of my chains would sync</span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 01:29 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:29 PM</span>

                    <div class="chatlog__message " data-message-id="519867948828065803" id="message-519867948828065803">
                        <div class="chatlog__content">
                            <span class="markdown">Yes, they are still</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 01:29 PM</span>

                    <div class="chatlog__message " data-message-id="519868028255731722" id="message-519868028255731722">
                        <div class="chatlog__content">
                            <span class="markdown">we have a diffrent fork... I think you can safly uncomment them there</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519868078809546764" id="message-519868078809546764">
                        <div class="chatlog__content">
                            <span class="markdown">but its wont help oracles sadly</span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 01:30 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:30 PM</span>

                    <div class="chatlog__message " data-message-id="519868112590471169" id="message-519868112590471169">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="ðŸ‘" title="ðŸ‘" src="https://twemoji.maxcdn.com/2/72x72/1f44d.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:31 PM</span>

                    <div class="chatlog__message " data-message-id="519868386545500170" id="message-519868386545500170">
                        <div class="chatlog__content">
                            <span class="markdown">yes, that certainly explains coin migration not working!</span>

                        </div>



                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="ðŸ˜…" title="ðŸ˜…" src="https://twemoji.maxcdn.com/2/72x72/1f605.png" />
                                    <span class="chatlog__reaction-count">1</span>
                                </div>
                        </div>
                    </div>
                    <div class="chatlog__message " data-message-id="519868433458790407" id="message-519868433458790407">
                        <div class="chatlog__content">
                            <span class="markdown">but normal CC should be working</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519868476840738819" id="message-519868476840738819">
                        <div class="chatlog__content">
                            <span class="markdown">updated FSM branch</span>

                        </div>



                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="ðŸ‘Œ" title="ðŸ‘Œ" src="https://twemoji.maxcdn.com/2/72x72/1f44c.png" />
                                    <span class="chatlog__reaction-count">1</span>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:33 PM</span>

                    <div class="chatlog__message " data-message-id="519868858757021716" id="message-519868858757021716">
                        <div class="chatlog__content">
                            <span class="markdown">Basically, to avoid this kind of problems when working on opensource projects (or projects which have a lot of commiters) my practice is to create one squashed commit per change I&#39;m working on, which I review when making PR. This way is much easier to trace changes which caused some problem, and maybe you can avoid commiting unwanted changes if you work on different fork that will contaminate other project....</span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 01:33 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:33 PM</span>

                    <div class="chatlog__message " data-message-id="519868977002971136" id="message-519868977002971136">
                        <div class="chatlog__content">
                            <span class="markdown">yes, unfortunately in this case there were 500+ files that changed</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 01:33 PM</span>

                    <div class="chatlog__message " data-message-id="519868977401561098" id="message-519868977401561098">
                        <div class="chatlog__content">
                            <span class="markdown">this was clearlty sabotage <img class="emoji " alt="trollface" title="trollface" src="https://cdn.discordapp.com/emojis/464182286695530508.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:34 PM</span>

                    <div class="chatlog__message " data-message-id="519869063820869632" id="message-519869063820869632">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="ðŸ˜„" title="ðŸ˜„" src="https://twemoji.maxcdn.com/2/72x72/1f604.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:34 PM</span>

                    <div class="chatlog__message " data-message-id="519869075959185408" id="message-519869075959185408">
                        <div class="chatlog__content">
                            <span class="markdown">i tried to find and fix all such changes, but I missed a couple</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519869148982018049" id="message-519869148982018049">
                        <div class="chatlog__content">
                            <span class="markdown">my guess on the oracles CC behavior is an uninitialized variable</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 01:34 PM</span>

                    <div class="chatlog__message " data-message-id="519869165973143552" id="message-519869165973143552">
                        <div class="chatlog__content">
                            <span class="markdown">just merging it in was hell for me ... I started by remiving most of my code</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:34 PM</span>

                    <div class="chatlog__message " data-message-id="519869195006115851" id="message-519869195006115851">
                        <div class="chatlog__content">
                            <span class="markdown">that would explain the random behavior</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519869293240909835" id="message-519869293240909835">
                        <div class="chatlog__content">
                            <span class="markdown">i cant think of another theory that explains how it works, but it doesnt, unless it does behavior</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:35 PM</span>

                    <div class="chatlog__message " data-message-id="519869357812088868" id="message-519869357812088868">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> Well if it is uninitialized variable, then it is in something that affects all CCs. As the part that is failing is on spending and verifying signatures...</span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 01:35 PM">(edited)</span>
                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519869655729307659" id="message-519869655729307659">
                        <div class="chatlog__content">
                            <span class="markdown"><div class="pre pre--multiline nohighlight">Reg pubkey: 077b01e7c6640ef59724386dd48562fe32cc1dd43d65d381f9f18cd73dee53d9 - RCiCz5FWiLLRi8ex1C4CKdyDTDgwLkxamv
AddToWallet fb6dfb683c63d3db01c8210b33f20f107e991ce2a616dfcfe24948289509a037  new
Reg pubkey: 077b01e7c6640ef59724386dd48562fe32cc1dd43d65d381f9f18cd73dee53d9 - RCiCz5FWiLLRi8ex1C4CKdyDTDgwLkxamv
AddToWallet fb6dfb683c63d3db01c8210b33f20f107e991ce2a616dfcfe24948289509a037  
UpdateTip: new best=00208c078f313020261c744bde2ea57785846919afa5c406eaf122ca424dcc9b  height=134  log2_work=13.022715  log2_stake=-inf  tx=144  date=2018-12-05 13:19:30 progress=1.007519  cache=0.0MiB(10tx)
AddToWallet fb6dfb683c63d3db01c8210b33f20f107e991ce2a616dfcfe24948289509a037  update
Reg pubkey: 077b01e7c6640ef59724386dd48562fe32cc1dd43d65d381f9f18cd73dee53d9 - RCiCz5FWiLLRi8ex1C4CKdyDTDgwLkxamv
Adding fixed seed nodes.
cc_verify error C
ERROR: CScriptCheck(): 2caa0065530875becf57e22912e95049660b73bac9f0855dff110244dc8be70b:1 VerifySignature failed: Script evaluated without error but finished with a false/empty top stack element
cc_verify error C
ERROR: CScriptCheck(): 2caa0065530875becf57e22912e95049660b73bac9f0855dff110244dc8be70b:1 VerifySignature failed: Script evaluated without error but finished with a false/empty top stack element
ERROR: AcceptToMemoryPool: ConnectInputs failed 2caa0065530875becf57e22912e95049660b73bac9f0855dff110244dc8be70b</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519869756061384704" id="message-519869756061384704">
                        <div class="chatlog__content">
                            <span class="markdown">I have traced to see if something changes while posting oraclesdata, but everything seems ok.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519869894280609793" id="message-519869894280609793">
                        <div class="chatlog__content">
                            <span class="markdown">And basically, it works few times and then suddenly it decides not to work <img class="emoji " alt="ðŸ˜‰" title="ðŸ˜‰" src="https://twemoji.maxcdn.com/2/72x72/1f609.png" /></span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 01:37 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 01:38 PM</span>

                    <div class="chatlog__message " data-message-id="519870149965119488" id="message-519870149965119488">
                        <div class="chatlog__content">
                            <span class="markdown">oracleslimiter</span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 01:38 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:38 PM</span>

                    <div class="chatlog__message " data-message-id="519870197104902144" id="message-519870197104902144">
                        <div class="chatlog__content">
                            <span class="markdown"><img class="emoji emoji--large" alt="ðŸ˜›" title="ðŸ˜›" src="https://twemoji.maxcdn.com/2/72x72/1f61b.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:38 PM</span>

                    <div class="chatlog__message " data-message-id="519870216281391104" id="message-519870216281391104">
                        <div class="chatlog__content">
                            <span class="markdown">one change miket made was to allow for data after the normal CC vout</span>

                        </div>



                        <div class="chatlog__reactions">
                                <div class="chatlog__reaction">
                                    <img class="emoji emoji--small" alt="ðŸ¤”" title="ðŸ¤”" src="https://twemoji.maxcdn.com/2/72x72/1f914.png" />
                                    <span class="chatlog__reaction-count">1</span>
                                </div>
                        </div>
                    </div>
                    <div class="chatlog__message " data-message-id="519870319805202432" id="message-519870319805202432">
                        <div class="chatlog__content">
                            <span class="markdown">but for normal CC vout, this shouldnt cause an issue. unless the code to handle that has some bug</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519870397596958741" id="message-519870397596958741">
                        <div class="chatlog__content">
                            <span class="markdown">the idea was to be able to pass in variables to the CC vout, without changing the address generation</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:39 PM</span>

                    <div class="chatlog__message " data-message-id="519870401963229225" id="message-519870401963229225">
                        <div class="chatlog__content">
                            <span class="markdown">Yes, you mentioned that. Could that somehow afect it. Or maybe ot overlaped something in memory so sometimes it happens?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:40 PM</span>

                    <div class="chatlog__message " data-message-id="519870769967136787" id="message-519870769967136787">
                        <div class="chatlog__content">
                            <span class="markdown">return cc_readFulfillmentBinary((uint8_t*)ffbin.data(), ffbin.size()-1);</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519870879249858570" id="message-519870879249858570">
                        <div class="chatlog__content">
                            <span class="markdown">if the size of the fulfillment changed, with padded data, it seems quite possible something is assuming incorrectly</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519870974275878913" id="message-519870974275878913">
                        <div class="chatlog__content">
                            <span class="markdown">i think the problem is very likely in this area, but it should exhibit itself before sapling as much as after sapling</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 01:41 PM</span>

                    <div class="chatlog__message " data-message-id="519871011454451712" id="message-519871011454451712">
                        <div class="chatlog__content">
                            <span class="markdown"><div class="pre pre--multiline language-cpp">unsigned char msgHash[32];
    if (doHashMsg) sha256(msg, msgLength, msgHash);
    else memcpy(msgHash, msg, 32);

    if (!cc_secp256k1VerifyTreeMsg32(cond, msgHash)) {
        fprintf(stderr,&quot;cc_verify error C\n&quot;);
        return 0;
    }</div>
Because it is failing on this if, could it be that something is not ok with msgHash? Maybe msgLentgth is not correct or value passed is not initialized?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 01:44 PM</span>

                    <div class="chatlog__message " data-message-id="519871802848313353" id="message-519871802848313353">
                        <div class="chatlog__content">
                            <span class="markdown">yes, it could well be the cond is pointing to invalid length, something like taht</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519871986529337344" id="message-519871986529337344">
                        <div class="chatlog__content">
                            <span class="markdown">I guess we need to capture the details for the times it works vs the times it doesnt ,especially if it is for the same vout</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/422858760898215937/45b08ee647e00b665a37fc374590ebc4.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="siu - Chainmakers#3920" data-user-id="422858760898215937">siu - Chainmakers</span>


                <span class="chatlog__timestamp">05-Dec-18 01:58 PM</span>

                    <div class="chatlog__message " data-message-id="519875319277158410" id="message-519875319277158410">
                        <div class="chatlog__content">
                            <span class="markdown">which repo are we working on now?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 02:22 PM</span>

                    <div class="chatlog__message " data-message-id="519881358655488002" id="message-519881358655488002">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m working on pirate repo as there I had sapling activated. But as <span class="mention" title="blackjok3r#3181">@blackjok3r</span>  said it has nothing to do with sapling, I can also try to reproduce it on jl777 FSM</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/232679450301431808/3623f2c79f81112c8a9336f8fcbfa6ea.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="blackjok3r#3181" data-user-id="232679450301431808">blackjok3r</span>


                <span class="chatlog__timestamp">05-Dec-18 02:23 PM</span>

                    <div class="chatlog__message " data-message-id="519881451303337994" id="message-519881451303337994">
                        <div class="chatlog__content">
                            <span class="markdown">Im my case it was definatly not spling related</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519881532651995140" id="message-519881532651995140">
                        <div class="chatlog__content">
                            <span class="markdown">as the code was flat out disabled ...</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519881674079862796" id="message-519881674079862796">
                        <div class="chatlog__content">
                            <span class="markdown">I would try it on a non sapling chain though to at least narrow down what it could be.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">05-Dec-18 02:57 PM</span>

                    <div class="chatlog__message " data-message-id="519890108636463126" id="message-519890108636463126">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> Is there any simple solution for manual generating input for <span class="pre pre--inline">oraclesdata</span> of Ihh datatype oracle and how valid  data input looks like?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 02:58 PM</span>

                    <div class="chatlog__message " data-message-id="519890298810400769" id="message-519890298810400769">
                        <div class="chatlog__content">
                            <span class="markdown">manually generate it, just look at oraclefeed.c to see how it is done</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519890331353874444" id="message-519890331353874444">
                        <div class="chatlog__content">
                            <span class="markdown">just binary data</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">05-Dec-18 03:01 PM</span>

                    <div class="chatlog__message " data-message-id="519891038450483200" id="message-519891038450483200">
                        <div class="chatlog__content">
                            <span class="markdown">Oh yep, looking trough oraclefeed code for a last 15 minutes - not understood yet</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519891076480499733" id="message-519891076480499733">
                        <div class="chatlog__content">
                            <span class="markdown">Gonna look more <img class="emoji " alt="ðŸ˜ƒ" title="ðŸ˜ƒ" src="https://twemoji.maxcdn.com/2/72x72/1f603.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 03:01 PM</span>

                    <div class="chatlog__message " data-message-id="519891133900521512" id="message-519891133900521512">
                        <div class="chatlog__content">
                            <span class="markdown">Just a sec</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519891509840183296" id="message-519891509840183296">
                        <div class="chatlog__content">
                            <span class="markdown">get_oracledata function is fetching data from the chain, inside you have this which creates binary data:
<div class="pre pre--multiline language-cpp">if ( (height= get_coinheader(refcoin,acname,&amp;blockhash,&amp;merkleroot,prevheight)) &gt; prevheight )
        {
            for (i=0; i&lt;4; i++)
                sprintf(&amp;hexstr[i*2],&quot;%02x&quot;,(uint8_t)((height &gt;&gt; (i*8)) &amp; 0xff));
            for (i=31; i&gt;=0; i--)
                sprintf(&amp;hexstr[8 + (31-i)*2],&quot;%02x&quot;,blockhash.bytes[i]);
            for (i=31; i&gt;=0; i--)
                sprintf(&amp;hexstr[8 + 64 + (31-i)*2],&quot;%02x&quot;,merkleroot.bytes[i]);
            hexstr[8 + 64*2] = 0;
            return(height);
        }</div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519891900333948942" id="message-519891900333948942">
                        <div class="chatlog__content">
                            <span class="markdown">first 8 bytes are the height of the chain, than 64 bytes are blockhash and 64 are merkleroot.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">05-Dec-18 03:05 PM</span>

                    <div class="chatlog__message " data-message-id="519892101714935809" id="message-519892101714935809">
                        <div class="chatlog__content">
                            <span class="markdown">Oh I see, will try. Thanks  <span class="mention" title="Mihailo#5902">@Mihailo</span> !</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">05-Dec-18 03:15 PM</span>

                    <div class="chatlog__message " data-message-id="519894573531529218" id="message-519894573531529218">
                        <div class="chatlog__content">
                            <span class="markdown">Coool
<div class="pre pre--multiline nohighlight">./komodo-cli -ac_name=SPLTEST oraclessamples e0181d32fbc4afc12cd8b1da095e433c7b980d35e02bd98c56a74ce90cb73133 a7d72392f7f016ac2167e39f1a1ce9c6d0a6df6dc2bf2ed000c4c97b659f2fd3 1
{
  &quot;result&quot;: &quot;success&quot;,
  &quot;samples&quot;: [
    [
      &quot;0&quot;,
      &quot;00000000ffffffff00000000ffffffff00000000ffffffff00000000ffffffff&quot;,
      &quot;00000000ffffffff00000000ffffffff00000000ffffffff00000000ffffffff&quot;
    ]
  ]</div></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">05-Dec-18 03:16 PM</span>

                    <div class="chatlog__message " data-message-id="519894872199528449" id="message-519894872199528449">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="TonyL#3577">@TonyL</span> that doesn&#39;t seem to be working properly</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519894905297043456" id="message-519894905297043456">
                        <div class="chatlog__content">
                            <span class="markdown">from my understanding of oraclessamples at least</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519894933998665748" id="message-519894933998665748">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="pre pre--inline">1</span> should only show the latest</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">05-Dec-18 03:17 PM</span>

                    <div class="chatlog__message " data-message-id="519895003812724759" id="message-519895003812724759">
                        <div class="chatlog__content">
                            <span class="markdown">Yes it show only the latest entry and there is only one in this oracle</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519895226475610122" id="message-519895226475610122">
                        <div class="chatlog__content">
                            <span class="markdown">In Ihh height, blockhash and merkleroot are separated in presentation</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/405011811511828481/890c3b2325182148e414cbfc65287323.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Alright#0419" data-user-id="405011811511828481">Alright</span>


                <span class="chatlog__timestamp">05-Dec-18 03:18 PM</span>

                    <div class="chatlog__message " data-message-id="519895343958065152" id="message-519895343958065152">
                        <div class="chatlog__content">
                            <span class="markdown">Ah, understood</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/272003866906722306/f969e14501a75017a7f5fc92692a8996.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="TonyL#3577" data-user-id="272003866906722306">TonyL</span>


                <span class="chatlog__timestamp">05-Dec-18 03:20 PM</span>

                    <div class="chatlog__message " data-message-id="519895787119837184" id="message-519895787119837184">
                        <div class="chatlog__content">
                            <span class="markdown">Oh I guess it&#39;s little endian because I&#39;ve not planned this 0 <img class="emoji " alt="ðŸ˜‚" title="ðŸ˜‚" src="https://twemoji.maxcdn.com/2/72x72/1f602.png" /></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 08:19 PM</span>

                    <div class="chatlog__message " data-message-id="519971059173425172" id="message-519971059173425172">
                        <div class="chatlog__content">
                            <span class="markdown">I have tried to reproduce cc_verify error on non activated sapling chain, but I&#39;m unable...</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519971124537196557" id="message-519971124537196557">
                        <div class="chatlog__content">
                            <span class="markdown">So it seems that this error is only possible with sapling activated</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 08:23 PM</span>

                    <div class="chatlog__message " data-message-id="519972223709216779" id="message-519972223709216779">
                        <div class="chatlog__content">
                            <span class="markdown">can you duplicate and isolate it on the sapling activated?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519972248791285770" id="message-519972248791285770">
                        <div class="chatlog__content">
                            <span class="markdown">it could be there are two different issues</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519972324896669707" id="message-519972324896669707">
                        <div class="chatlog__content">
                            <span class="markdown">sapling changes the tx serialization, and maybe the CC code depended on the old serialization</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 08:27 PM</span>

                    <div class="chatlog__message " data-message-id="519973055477317654" id="message-519973055477317654">
                        <div class="chatlog__content">
                            <span class="markdown">I can duplicate it, but cannot determine exact cause when it happens. Usually 2-3 oraclesdata are successful and then it throws cc_verify error</span>

                                <span class="chatlog__edited-timestamp" title="05-Dec-18 08:28 PM">(edited)</span>
                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">05-Dec-18 09:04 PM</span>

                    <div class="chatlog__message " data-message-id="519982386516328470" id="message-519982386516328470">
                        <div class="chatlog__content">
                            <span class="markdown">can you print out the details of the cc_verify cond to see the difference between the failure and success?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519982467591962655" id="message-519982467591962655">
                        <div class="chatlog__content">
                            <span class="markdown">there is a way to convert a cond structure into JSON</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="519982827295735845" id="message-519982827295735845">
                        <div class="chatlog__content">
                            <span class="markdown">in cryptoconditions/eval.cpp (not cc/eval.cpp) functions like static void evalToJSON(const CC *cond, cJSON *code) {</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">05-Dec-18 11:23 PM</span>

                    <div class="chatlog__message " data-message-id="520017398355460117" id="message-520017398355460117">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;ll check it tomorrow. I was chasing msgHash today but end up with nothing...</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 11:39 AM</span>

                    <div class="chatlog__message " data-message-id="520202509374062592" id="message-520202509374062592">
                        <div class="chatlog__content">
                            <span class="markdown">I&#39;m trying to convert cond to JSON but I get segmentation fault when doing evalToJSON.
<div class="pre pre--multiline language-cpp">    json=cJSON_CreateObject();
    evalToJSON(cond,json);  </div></span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520202691025174528" id="message-520202691025174528">
                        <div class="chatlog__content">
                            <span class="markdown"><span class="mention" title="jl777c#5810">@jl777c</span> can you point me to the code which allows data after CC that miket added?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 11:53 AM</span>

                    <div class="chatlog__message " data-message-id="520206158770995201" id="message-520206158770995201">
                        <div class="chatlog__content">
                            <span class="markdown">This part is failing in secp256k1Verify:
<div class="pre pre--multiline language-cpp">// Only accepts lower S signatures
rc = secp256k1_ecdsa_verify(ec_ctx_verify, &amp;sig, visitor.msg, &amp;pk);
if (rc != 1) return 0;</div></span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 11:55 AM</span>

                    <div class="chatlog__message " data-message-id="520206739665059843" id="message-520206739665059843">
                        <div class="chatlog__content">
                            <span class="markdown">is it adding a CC sig in FinalizeCCTx?</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520206889657696266" id="message-520206889657696266">
                        <div class="chatlog__content">
                            <span class="markdown">i wonder if the sapling tx serialization changing affects the CC signing</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520207610641907712" id="message-520207610641907712">
                        <div class="chatlog__content">
                            <span class="markdown">so the visitor.msg must match what was signed.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520207639876075530" id="message-520207639876075530">
                        <div class="chatlog__content">
                            <span class="markdown">in FinalizeCCtx:
                uint256 sighash = SignatureHash(CCPubKey(cond), mtx, i, SIGHASH_ALL, utxovalues[i],consensusBranchId, &amp;txdata);
                if ( cc_signTreeSecp256k1Msg32(cond,privkey,sighash.begin()) != 0 )</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520207826736644117" id="message-520207826736644117">
                        <div class="chatlog__content">
                            <span class="markdown">that is what calculates the sighash which i believe needs to match the vistor.msg, if they are not matched then we isolated the cause and can dig into why it is different</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520207931682193411" id="message-520207931682193411">
                        <div class="chatlog__content">
                            <span class="markdown">consensusBranchId &lt;- that value changes when sapling activates!</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520207965136093208" id="message-520207965136093208">
                        <div class="chatlog__content">
                            <span class="markdown">that could be a hint, i think it was 0 before</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520208018357354496" id="message-520208018357354496">
                        <div class="chatlog__content">
                            <span class="markdown">so if the old code assumed consensusBranchId is 0, it would fail after sapling activation</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 12:03 PM</span>

                    <div class="chatlog__message " data-message-id="520208613558452225" id="message-520208613558452225">
                        <div class="chatlog__content">
                            <span class="markdown">Ok, but why is it behaving that it sometimes work and sometimes not? If different value for consensusBranchId is used then it would fail all the time?</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 12:09 PM</span>

                    <div class="chatlog__message " data-message-id="520210238658576414" id="message-520210238658576414">
                        <div class="chatlog__content">
                            <span class="markdown">clearly something is misbehaving, if we understood it we would know more about it. at this point we need to find the crash point and work from there.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210302231379979" id="message-520210302231379979">
                        <div class="chatlog__content">
                            <span class="markdown">we cant make sweeping assumptions like &quot; If different value for consensusBranchId is used then it would fail all the time&quot;</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210408867627018" id="message-520210408867627018">
                        <div class="chatlog__content">
                            <span class="markdown">maybe some code paths set it properly based on the value of an uninitialized variable</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210458553221121" id="message-520210458553221121">
                        <div class="chatlog__content">
                            <span class="markdown">maybe it is ok, at first but not after something updates internally</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210504694890509" id="message-520210504694890509">
                        <div class="chatlog__content">
                            <span class="markdown">basically its random behavior means it can be almost anything</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210581362442240" id="message-520210581362442240">
                        <div class="chatlog__content">
                            <span class="markdown">maybe it has been there all along and only sapling activation exposed it</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 12:11 PM</span>

                    <div class="chatlog__message " data-message-id="520210708449984526" id="message-520210708449984526">
                        <div class="chatlog__content">
                            <span class="markdown">Agree.</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 12:11 PM</span>

                    <div class="chatlog__message " data-message-id="520210719514427403" id="message-520210719514427403">
                        <div class="chatlog__content">
                            <span class="markdown">since there is a clear signature failure and we are generating the sign in finalizeCCtx, it at least allows us to see if the sighash is conflicting</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210790477856769" id="message-520210790477856769">
                        <div class="chatlog__content">
                            <span class="markdown">i sure hope it is, as the alternative is getting into some real memory corruption scenarios</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 12:12 PM</span>

                    <div class="chatlog__message " data-message-id="520210829766033439" id="message-520210829766033439">
                        <div class="chatlog__content">
                            <span class="markdown">I have printed the value of consensusBranchId in every oraclesdata tx and it is the same: 1991772603</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210856060125195" id="message-520210856060125195">
                        <div class="chatlog__content">
                            <span class="markdown">So at least it does not change</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520210907444543490" id="message-520210907444543490">
                        <div class="chatlog__content">
                            <span class="markdown">And after third data tx it failed.</span>

                        </div>



                    </div>
                    <div class="chatlog__message " data-message-id="520211054425538598" id="message-520211054425538598">
                        <div class="chatlog__content">
                            <span class="markdown">Is this value for consensusBranchId strange? I do not know what is it for...</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="jl777c#5810" data-user-id="455741312273219595">jl777c</span>


                <span class="chatlog__timestamp">06-Dec-18 12:13 PM</span>

                    <div class="chatlog__message " data-message-id="520211151649505281" id="message-520211151649505281">
                        <div class="chatlog__content">
                            <span class="markdown">well if sighash != msg, that isolates the problem, so let me know if that is the case</span>

                        </div>



                    </div>
            </div>
        </div>
        <div class="chatlog__message-group">
            <div class="chatlog__author-avatar-container">
                <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/424224648889106444/2fcedf61e46562f71af0c11a6dedfb4f.png" />
            </div>
            <div class="chatlog__messages">
                <span class="chatlog__author-name" title="Mihailo#5902" data-user-id="424224648889106444">Mihailo</span>


                <span class="chatlog__timestamp">06-Dec-18 12:13 PM</span>

                    <div class="chatlog__message " data-message-id="520211193575505933" id="message-520211193575505933">
                        <div class="chatlog__content">
                            <span class="markdown">Ok</span>

                        </div>



                    </div>
            </div>
        </div>
</div>

</body>
</html>
